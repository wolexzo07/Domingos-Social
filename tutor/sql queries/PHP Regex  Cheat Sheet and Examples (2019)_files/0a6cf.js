!function(c){var s={calcScrollOffset:function(t,l){var i=t.offset().top-l;return i<0?0:i},init:function(t){t.each(function(){var e=c(this);1!=e.data("lwptocInitialized")&&(e.find(".lwptoc_toggle_label").click(function(){var t=c(this),l=t.closest(".lwptoc").find(".lwptoc_items"),i=t.data("label");return"none"==l.css("display")?(l.stop(!0).slideDown(300),t.data("label",t.html()).html(i)):l.stop(!0).slideUp(300,function(){t.data("label",t.html()).html(i)}),!1}),e.data("smoothScroll")&&e.find(".lwptoc_items").on("click",'A[href^="#"]',function(t){t.preventDefault();var l=c(this).attr("href"),o=c('[id="'+l.slice(1)+'"]:visible');if(o.length){if(l!=location.hash){var i=o.attr("id"),a=c("<a> </a>").attr("id",i).css({position:"absolute",top:c(window).scrollTop(),left:c(window).scrollLeft(),visibility:"hidden"});o.attr("id",""),c("body").prepend(a),location.hash=l,a.remove(),o.attr("id",i)}var n=e.data("smoothScrollOffset");c("html, body").animate({scrollTop:s.calcScrollOffset(o,n)},{duration:500,step:function(t,l){var i=s.calcScrollOffset(o,n);l.end!==i&&(l.end=i)}})}}),e.data("lwptocInitialized",1))})}};c(function(){s.init(c(".lwptoc"))})}(jQuery);