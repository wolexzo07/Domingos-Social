var requirejs,require,define;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(global,setTimeout){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.6",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){var n;if(e)for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}function eachReverse(e,t){var n;if(e)for(n=e.length-1;-1<n&&(!e[n]||!t(e[n],n,e));n-=1);}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(n,e,r,o){return e&&eachProp(e,function(e,t){!r&&hasProp(n,t)||(!o||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?n[t]=e:(n[t]||(n[t]={}),mixin(n[t],e,r,o)))}),n}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var o=new Error(t+"\nhttps://requirejs.org/docs/errors.html#"+e);return o.requireType=e,o.requireModules=r,n&&(o.originalError=n),o}if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var o,i,a=defContextName;return isArray(e)||"string"==typeof e||(i=e,isArray(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(a=i.context),o=(o=getOwn(contexts,a))||(contexts[a]=req.s.newContext(a)),i&&o.configure(i),o.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require=require||req,req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,n){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(t,n,r){var e,o=t&&t.config||{};if(isBrowser)return(e=req.createNode(o,n,r)).setAttribute("data-requirecontext",t.contextName),e.setAttribute("data-requiremodule",n),!e.attachEvent||e.attachEvent.toString&&e.attachEvent.toString().indexOf("[native code")<0||isOpera?(e.addEventListener("load",t.onScriptLoad,!1),e.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,e.attachEvent("onreadystatechange",t.onScriptLoad)),e.src=r,o.onNodeCreated&&o.onNodeCreated(e,o,n,r),currentlyAddingScript=e,baseElement?head.insertBefore(e,baseElement):head.appendChild(e),currentlyAddingScript=null,e;if(isWebWorker)try{setTimeout(function(){},0),importScripts(r),t.completeLoad(n)}catch(e){t.onError(makeError("importscripts","importScripts failed for "+n+" at "+r,e,[n]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head=head||e.parentNode,dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(mainScript=(src=mainScript.split("/")).pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,n,t){var r,o;"string"!=typeof e&&(t=n,n=e,e=null),isArray(n)||(t=n,n=null),!n&&isFunction(t)&&(n=[],t.length&&(t.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,t){n.push(t)}),n=(1===t.length?["require"]:["require","exports","module"]).concat(n))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript())&&(e=e||r.getAttribute("data-requiremodule"),o=contexts[r.getAttribute("data-requirecontext")]),o?(o.defQueue.push([e,n,t]),o.defQueueMap[e]=!0):globalDefQueue.push([e,n,t])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}function newContext(l){var n,e,d,c,u,g={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},h={},p={},r={},f=[],m={},o={},b={},_=1,v=1;function y(e,t,n){var r,o,i,a,s,l,c,u,h,p,d=t&&t.split("/"),f=g.map,m=f&&f["*"];if(e&&(l=(e=e.split("/")).length-1,g.nodeIdCompat&&jsSuffixRegExp.test(e[l])&&(e[l]=e[l].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&d&&(e=d.slice(0,d.length-1).concat(e)),function(e){var t,n;for(t=0;t<e.length;t++)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;0<t&&(e.splice(t-1,2),t-=2)}}(e),e=e.join("/")),n&&f&&(d||m)){e:for(i=(o=e.split("/")).length;0<i;i-=1){if(s=o.slice(0,i).join("/"),d)for(a=d.length;0<a;a-=1)if(r=(r=getOwn(f,d.slice(0,a).join("/")))&&getOwn(r,s)){c=r,u=i;break e}!h&&m&&getOwn(m,s)&&(h=getOwn(m,s),p=i)}!c&&h&&(c=h,u=p),c&&(o.splice(0,u,c),e=o.join("/"))}return getOwn(g.pkgs,e)||e}function w(t){isBrowser&&each(scripts(),function(e){if(e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===d.contextName)return e.parentNode.removeChild(e),!0})}function x(e){var t=getOwn(g.paths,e);if(t&&isArray(t)&&1<t.length)return t.shift(),d.require.undef(e),d.makeRequire(null,{skipMap:!0})([e]),!0}function S(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function k(e,t,n,r){var o,i,a,s,l=null,c=t?t.name:null,u=e,h=!0,p="";return e||(h=!1,e="_@r"+(_+=1)),l=(s=S(e))[0],e=s[1],l&&(l=y(l,c,r),i=getOwn(m,l)),e&&(l?p=n?e:i&&i.normalize?i.normalize(e,function(e){return y(e,c,r)}):-1===e.indexOf("!")?y(e,c,r):e:(l=(s=S(p=y(e,c,r)))[0],p=s[1],n=!0,o=d.nameToUrl(p))),{prefix:l,name:p,parentMap:t,unnormalized:!!(a=!l||i||n?"":"_unnormalized"+(v+=1)),url:o,originalName:u,isDefine:h,id:(l?l+"!"+p:p)+a}}function E(e){var t=e.id,n=getOwn(h,t);return n=n||(h[t]=new d.Module(e))}function C(e,t,n){var r=e.id,o=getOwn(h,r);!hasProp(m,r)||o&&!o.defineEmitComplete?(o=E(e)).error&&"error"===t?n(o.error):o.on(t,n):"defined"===t&&n(m[r])}function O(n,e){var t=n.requireModules,r=!1;e?e(n):(each(t,function(e){var t=getOwn(h,e);t&&(t.error=n,t.events.error&&(r=!0,t.emit("error",n)))}),r||req.onError(n))}function A(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(d.defQueueMap[t]=!0),f.push(e)}),globalDefQueue=[])}function R(e){delete h[e],delete p[e]}function T(){var e,r,t=1e3*g.waitSeconds,o=t&&d.startTime+t<(new Date).getTime(),i=[],a=[],s=!1,l=!0;if(!n){if(n=!0,eachProp(p,function(e){var t=e.map,n=t.id;if(e.enabled&&(t.isDefine||a.push(e),!e.error))if(!e.inited&&o)x(n)?s=r=!0:(i.push(n),w(n));else if(!e.inited&&e.fetched&&t.isDefine&&(s=!0,!t.prefix))return l=!1}),o&&i.length)return(e=makeError("timeout","Load timeout for modules: "+i,null,i)).contextName=d.contextName,O(e);l&&each(a,function(e){!function o(i,a,s){var e=i.map.id;i.error?i.emit("error",i.error):(a[e]=!0,each(i.depMaps,function(e,t){var n=e.id,r=getOwn(h,n);!r||i.depMatched[t]||s[n]||(getOwn(a,n)?(i.defineDep(t,m[n]),i.check()):o(r,a,s))}),s[e]=!0)}(e,{},{})}),o&&!r||!s||!isBrowser&&!isWebWorker||u||(u=setTimeout(function(){u=0,T()},50)),n=!1}}function a(e){hasProp(m,e[0])||E(k(e[0],null,!0)).init(e[1],e[2])}function i(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function s(e){var t=e.currentTarget||e.srcElement;return i(t,d.onScriptLoad,"load","onreadystatechange"),i(t,d.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function j(){var e;for(A();f.length;){if(null===(e=f.shift())[0])return O(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));a(e)}d.defQueueMap={}}return c={require:function(e){return e.require?e.require:e.require=d.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?m[e.map.id]=e.exports:e.exports=m[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(g.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},(e=function(e){this.events=getOwn(r,e.id)||{},this.map=e,this.shim=getOwn(g.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0}).prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,d.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();d.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;o[e]||(o[e]=!0,d.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,r=this.depExports,o=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(i)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=d.execCb(n,i,r,o)}catch(e){t=e}else o=d.execCb(n,i,r,o);if(this.map.isDefine&&void 0===o&&((e=this.module)?o=e.exports:this.usingExports&&(o=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",O(this.error=t)}else o=i;if(this.exports=o,this.map.isDefine&&!this.ignore&&(m[n]=o,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(d,this.map,a)}R(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(d.defQueueMap,n)||this.fetch()}},callPlugin:function(){var l=this.map,c=l.id,e=k(l.prefix);this.depMaps.push(e),C(e,"defined",bind(this,function(e){var i,t,n,r=getOwn(b,this.map.id),o=this.map.name,a=this.map.parentMap?this.map.parentMap.name:null,s=d.makeRequire(l.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(e.normalize&&(o=e.normalize(o,function(e){return y(e,a,!0)})||""),C(t=k(l.prefix+"!"+o,this.map.parentMap,!0),"defined",bind(this,function(e){this.map.normalizedMap=t,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((n=getOwn(h,t.id))&&(this.depMaps.push(t),this.events.error&&n.on("error",bind(this,function(e){this.emit("error",e)})),n.enable()))):r?(this.map.url=d.nameToUrl(r),void this.load()):((i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})})).error=bind(this,function(e){this.inited=!0,(this.error=e).requireModules=[c],eachProp(h,function(e){0===e.map.id.indexOf(c+"_unnormalized")&&R(e.map.id)}),O(e)}),i.fromText=bind(this,function(e,t){var n=l.name,r=k(n),o=useInteractive;t&&(e=t),o&&(useInteractive=!1),E(r),hasProp(g.config,c)&&(g.config[n]=g.config[c]);try{req.exec(e)}catch(e){return O(makeError("fromtexteval","fromText eval for "+c+" failed: "+e,e,[c]))}o&&(useInteractive=!0),this.depMaps.push(r),d.completeLoad(n),s([n],i)}),void e.load(l.name,s,i,g))})),d.enable(e,this),this.pluginMaps[e.id]=e},enable:function(){(p[this.map.id]=this).enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,o;if("string"==typeof e){if(e=k(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(c,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,C(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?C(e,"error",bind(this,this.errback)):this.events.error&&C(e,"error",bind(this,function(e){this.emit("error",e)}))}n=e.id,r=h[n],hasProp(c,n)||!r||r.enabled||d.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(h,e.id);t&&!t.enabled&&d.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];(n=n||(this.events[e]=[])).push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},(d={config:g,contextName:l,registry:h,defined:m,urlFetched:o,defQueue:f,defQueueMap:{},Module:e,makeModuleMap:k,nextTick:req.nextTick,onError:O,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var n=e.urlArgs;e.urlArgs=function(e,t){return(-1===t.indexOf("?")?"?":"&")+n}}var r=g.shim,o={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){o[t]?(g[t]||(g[t]={}),mixin(g[t],e,!0,!0)):g[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(b[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=d.makeShimExports(e)),r[t]=e}),g.shim=r),e.packages&&each(e.packages,function(e){var t;t=(e="string"==typeof e?{name:e}:e).name,e.location&&(g.paths[t]=e.location),g.pkgs[t]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(h,function(e,t){e.inited||e.map.unnormalized||(e.map=k(t,null,!0))}),(e.deps||e.callback)&&d.require(e.deps||[],e.callback)},makeShimExports:function(t){return function(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}},makeRequire:function(i,a){function s(e,t,n){var r,o;return a.enableBuildCallback&&t&&isFunction(t)&&(t.__requireJsBuild=!0),"string"==typeof e?isFunction(t)?O(makeError("requireargs","Invalid require call"),n):i&&hasProp(c,e)?c[e](h[i.id]):req.get?req.get(d,e,i,s):(r=k(e,i,!1,!0).id,hasProp(m,r)?m[r]:O(makeError("notloaded",'Module name "'+r+'" has not been loaded yet for context: '+l+(i?"":". Use require([])")))):(j(),d.nextTick(function(){j(),(o=E(k(null,i))).skipMap=a.skipMap,o.init(e,t,n,{enabled:!0}),T()}),s)}return a=a||{},mixin(s,{isBrowser:isBrowser,toUrl:function(e){var t,n=e.lastIndexOf("."),r=e.split("/")[0];return-1!==n&&(!("."===r||".."===r)||1<n)&&(t=e.substring(n,e.length),e=e.substring(0,n)),d.nameToUrl(y(e,i&&i.id,!0),t,!0)},defined:function(e){return hasProp(m,k(e,i,!1,!0).id)},specified:function(e){return e=k(e,i,!1,!0).id,hasProp(m,e)||hasProp(h,e)}}),i||(s.undef=function(n){A();var e=k(n,i,!0),t=getOwn(h,n);t.undefed=!0,w(n),delete m[n],delete o[e.url],delete r[n],eachReverse(f,function(e,t){e[0]===n&&f.splice(t,1)}),delete d.defQueueMap[n],t&&(t.events.defined&&(r[n]=t.events),R(n))}),s},enable:function(e){getOwn(h,e.id)&&E(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(g.shim,e)||{},i=o.exports;for(A();f.length;){if(null===(n=f.shift())[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);a(n)}if(d.defQueueMap={},r=getOwn(h,e),!t&&!hasProp(m,e)&&r&&!r.inited){if(!(!g.enforceDefine||i&&getGlobal(i)))return x(e)?void 0:O(makeError("nodefine","No define call for "+e,null,[e]));a([e,o.deps||[],o.exportsFn])}T()},nameToUrl:function(e,t,n){var r,o,i,a,s,l,c=getOwn(g.pkgs,e);if(c&&(e=c),l=getOwn(b,e))return d.nameToUrl(l,t,n);if(req.jsExtRegExp.test(e))a=e+(t||"");else{for(r=g.paths,i=(o=e.split("/")).length;0<i;i-=1)if(s=getOwn(r,o.slice(0,i).join("/"))){isArray(s)&&(s=s[0]),o.splice(0,i,s);break}a=o.join("/"),a=("/"===(a+=t||(/^data\:|^blob\:|\?/.test(a)||n?"":".js")).charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":g.baseUrl)+a}return g.urlArgs&&!/^blob\:/.test(a)?a+g.urlArgs(e,a):a},load:function(e,t){req.load(d,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=s(e);d.completeLoad(t.id)}},onScriptError:function(e){var n=s(e);if(!x(n.id)){var r=[];return eachProp(h,function(e,t){0!==t.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===n.id)return r.push(t),!0})}),O(makeError("scripterror",'Script error for "'+n.id+(r.length?'", needed by: '+r.join(", "):'"'),e,[n.id]))}}}).require=d.makeRequire(),d}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState||eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),define("requirejs",function(){}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("es6-object-assign",[],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ObjectAssign=e()}}(function(){return function i(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var l=i[a],c=Object.getOwnPropertyDescriptor(o,l);void 0!==c&&c.enumerable&&(n[l]=o[l])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},{}]},{},[1])(1)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("whatwg-fetch",["exports"],t):t(e.WHATWGFetch={})}(this,function(s){"use strict";var t="URLSearchParams"in self,n="Symbol"in self&&"iterator"in Symbol,l="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in self,o="ArrayBuffer"in self;if(o)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&-1<i.indexOf(Object.prototype.toString.call(e))};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function f(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:l&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&l&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=d(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=u(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},h.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},h.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return-1<b.indexOf(t)?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function y(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},g.call(_.prototype),g.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];y.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},s.DOMException=self.DOMException;try{new s.DOMException}catch(e){s.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function x(i,a){return new Promise(function(n,e){var t=new _(i,a);if(t.signal&&t.signal.aborted)return e(new s.DOMException("Aborted","AbortError"));var r=new XMLHttpRequest;function o(){r.abort()}r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:function(e){var o=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();o.append(n,r)}}),o}(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new y(t,e))},r.onerror=function(){e(new TypeError("Network request failed"))},r.ontimeout=function(){e(new TypeError("Network request failed"))},r.onabort=function(){e(new s.DOMException("Aborted","AbortError"))},r.open(t.method,t.url,!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&l&&(r.responseType="blob"),t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",o),r.onreadystatechange=function(){4===r.readyState&&t.signal.removeEventListener("abort",o)}),r.send(void 0===t._bodyInit?null:t._bodyInit)})}x.polyfill=!0,self.fetch||(self.fetch=x,self.Headers=h,self.Request=_,self.Response=y),s.Headers=h,s.Request=_,s.Response=y,s.fetch=x,Object.defineProperty(s,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define("promise-polyfill",t):t()}(0,function(){"use strict";function e(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})}var t=setTimeout;function l(e){return Boolean(e&&void 0!==e.length)}function r(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(r.promise,e)}a(r.promise,t)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h(function(e,t){return function(){e.apply(t,arguments)}}(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new u(e,t,n)),n},i.prototype.finally=e,i.all=function(t){return new i(function(r,o){if(!l(t))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return r([]);var a=i.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){s(t,e)},o)}i[t]=e,0==--a&&r(i)}catch(e){o(e)}}for(var e=0;e<i.length;e++)s(e,i[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){if(!l(o))return t(new TypeError("Promise.race accepts an array"));for(var n=0,r=o.length;n<r;n++)i.resolve(o[n]).then(e,t)})},i._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in n?n.Promise.prototype.finally||(n.Promise.prototype.finally=e):n.Promise=i}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("url-polyfill",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.urlPolyfill=e()}}(function(){return function i(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,i,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){(function(e){!function(t){function e(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function r(e){return encodeURIComponent(e).replace(/%20/g,"+")}function i(e){return decodeURIComponent(String(e).replace(/\+/g," "))}var a,n,o=function(){try{return!!Symbol.iterator}catch(e){return!1}}();!function(){try{var e=t.URLSearchParams;return"a=1"===new e("?a=1").toString()&&"function"==typeof e.prototype.set}catch(e){return!1}}()&&((n=(a=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"==t);else if("string"==t)""!==e&&this._fromString(e);else if(e instanceof a){var n=this;e.forEach(function(e,t){n.append(t,e)})}else{if(null===e||"object"!=t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var i in e)e.hasOwnProperty(i)&&this.append(i,e[i])}}).prototype).append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},n.delete=function(e){delete this._entries[e]},n.get=function(e){return e in this._entries?this._entries[e][0]:null},n.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},n.has=function(e){return e in this._entries},n.set=function(e,t){this._entries[e]=[String(t)]},n.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var o=0;o<n.length;o++)e.call(t,n[o],r,this)}},n.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),e(n)},n.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),e(t)},n.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),e(n)},o&&(n[Symbol.iterator]=n.entries),n.toString=function(){var n=[];return this.forEach(function(e,t){n.push(r(t)+"="+r(e))}),n.join("&")},t.URLSearchParams=a);var s=t.URLSearchParams.prototype;"function"!=typeof s.sort&&(s.sort=function(){var n=this,r=[];this.forEach(function(e,t){r.push([t,e]),n._entries||n.delete(t)}),r.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),n._entries&&(n._entries={});for(var e=0;e<r.length;e++)this.append(r[e][0],r[e][1])}),"function"!=typeof s._fromString&&Object.defineProperty(s,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var n=[];this.forEach(function(e,t){n.push(t)});for(var t=0;t<n.length;t++)this.delete(n[t])}var r,o=(e=e.replace(/^\?/,"")).split("&");for(t=0;t<o.length;t++)r=o[t].split("="),this.append(i(r[0]),1<r.length?i(r[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(u){var t,n;function e(e,t){"string"!=typeof e&&(e=String(e));var n,r=document;if(t&&(void 0===u.location||t!==u.location.href)){(n=(r=document.implementation.createHTMLDocument("")).createElement("base")).href=t,r.head.appendChild(n);try{if(0!==n.href.indexOf(t))throw new Error(n.href)}catch(e){throw new Error("URL unable to set base "+t+" due to "+e)}}var o=r.createElement("a");if(o.href=e,n&&(r.body.appendChild(o),o.href=o.href),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var i=new u.URLSearchParams(this.search),a=!0,s=!0,l=this;["append","delete","set"].forEach(function(e){var t=i[e];i[e]=function(){t.apply(i,arguments),a&&(s=!1,l.search=i.toString(),s=!0)}}),Object.defineProperty(this,"searchParams",{value:i,enumerable:!0});var c=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==c&&(c=this.search,s&&(a=!1,this.searchParams._fromString(this.search),a=!0))}})}if(function(){try{var e=new u.URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()||(t=u.URL,n=e.prototype,["hash","host","hostname","port","protocol"].forEach(function(e){!function(t){Object.defineProperty(n,t,{get:function(){return this._anchorElement[t]},set:function(e){this._anchorElement[t]=e},enumerable:!0})}(e)}),Object.defineProperty(n,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(n,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),e.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},e.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},u.URL=e),void 0!==u.location&&!("origin"in u.location)){function r(){return u.location.protocol+"//"+u.location.hostname+(u.location.port?":"+u.location.port:"")}try{Object.defineProperty(u.location,"origin",{get:r,enumerable:!0})}catch(e){setInterval(function(){u.location.origin=r()},100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),define("utils/globalObject",["require","lodash"],function(e){var t,n,r,o,i=e("lodash");try{(t=window.top).document.body}catch(e){t=window.parent}return n=t.document.querySelectorAll("iframe"),r=i.find(n,function(e){return"scmframe"===e.id}),o=i.find(n,function(e){return"url_shortener_settings_modal"===e.id}),!r&&!o&&t.Shareaholic||(t=window.parent),null==window.getComputedStyle(t.document.body)&&(window.getComputedStyle=function(){return t.getComputedStyle.apply(t,arguments)}),t}),define("utils/UUID",[],function(){return{generateUUID:function(){var n=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})}}}),define("utils/utils",["require","lodash","./globalObject"],function(e){var t,a=e("lodash"),n=/\s{2,}/g,r=/^(http:|https:)/,d=e("./globalObject"),o=["red-lighter","orange-lighter","yellow-lighter","green-lighter","aqua-lighter","blue-lighter"],i=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/gi,s=new RegExp("Googlebot|BuiltWith|PhantomJS|Google Page Speed Insights|Chrome-Lighthouse|Bingbot|Slurp|DuckDuckBot|Baiduspider|APIs-Google"),l=500;function c(e,t){if(t)return!e||e.closed?t():void setTimeout(function(){c(e,t)},l)}function u(e){if(9===e.keyCode){function t(e){e&&e.parentNode.removeChild(e)}t(d.document.head.querySelector("#shr-outline-style")),Array.prototype.forEach.call(d.frames,function(e){try{t(e.document.head.querySelector("#shr-outline-style")),e.document.body.removeEventListener("keydown",u)}catch(e){}}),d.document.body.removeEventListener("keydown",u)}}var h={watchWindow:c,dasharize:function(e){return e.replace(/_/g,"-").replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase().replace(/^-/,"")})},dasharizeKeys:function r(e){return a.reduce(e,function(e,t,n){return e[h.dasharize(n)]=t===Object(t)?r(t):t,e},{})},launchTab:function(e){h.openWindow(e,"_blank")},polling:function(n,r,o){var i=n,a=!1;if(n%2!=0||r%2!=0)throw new TypeError("minWait and maxWait must be multiples of 2");return{start:function e(){var t;a||(t=o(),i=t?Math.max(n,i/2):Math.min(r,2*i),setTimeout(e,i))},stop:function(){a=!0}}},openDebugWindow:function(e){var t;(t=d.open("","debug")).document.open(),t.document.write(e),t.document.close()},openWindow:function(e,t,n,r){var o;return n=n||[],c(o=d.open(e,t,n.join(",")),r),o},launchWindow:function(e,t){return h.openWindow(e,a.uniqueId("SHRWindow"),["top=50","left=50","width=800","height=600"],t)},launchUrl:function(e){d.location=e},adjustProtocol:function(e){return(e=e||"").replace(r,"")},compareVersions:function(e,t){var r=e.split("."),o=t.split("."),n=Math.max(r.length,o.length),i=0;return a.find(a.range(n),function(e){var t=parseInt(r[e]||"0",10),n=parseInt(o[e]||"0",10);return n<t?(i=1,!0):t<n&&(i=-1,!0)}),i},randomColor:function(){return o[a.random(0,o.length-1)]},hexToRGB:function(e,t){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null;return t?"rgba("+r.r+", "+r.g+", "+r.b+", "+t+")":"rgb("+r.r+", "+r.g+", "+r.b+")"},collapseWhitespace:function(e){return(e=e||"").replace(n," ")},truncate:function(e,t,n){var r,o;return e=e||"",t=null==t?e.length-1:t,n=n||{},a.defaults(n,{omission:"...",separator:void 0}),e.length<t?e:(r=t-n.omission.length,n.separator&&0<(o=e.substring(0,r).lastIndexOf(n.separator))&&(r=o),e.substring(0,r)+n.omission)},underscore:function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase().replace(/^_/,"")})},underscoreKeys:function(e){return a.reduce(e,function(e,t,n){return e[h.underscore(n)]=t,e},{})},abbreviateNumber:function(e){var t,n,r,o,i,a;if(1e3<=(t=e)){for(i=["","k","m","b","t"],o=Math.floor((""+e).length/3-.01),r="",n=a=3;2<=a&&!(((r=parseFloat((0!==o?e/Math.pow(1e3,o):e).toPrecision(n)))+"").replace(/[^a-zA-Z 0-9]+/g,"").length<=3);n=a+=-1);r%1!=0&&r.toFixed(2),t=r+i[o]}return t},getEnvironment:function(){return window.settings&&window.settings.environment||"production"},isChrome:function(){return null!=d.chrome&&null==d.opera},isSafari:function(){var e=d.navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},isMobile:function(){return void 0===t&&(t=i.test(d.navigator.userAgent)),t},isDesktop:function(){return!h.isMobile()},isBot:function(e){return s.test(e||d.navigator.userAgent)},forceRedraw:function(e){e.style.display="none",e.offsetHeight,e.style.display=""},addHashToProp:function(e){return e&&"string"==typeof e&&"#"!==e.charAt(0)?"#"+e:e},parseUnitAndAmount:function(e){var t=parseInt(e,10)||0,n="px";return e&&0<=e.indexOf("%")&&(n="%"),{amount:t,unit:n}},getWindowDimension:function(){return{width:d.innerWidth||d.document.documentElement.clientWidth||d.document.body.clientWidth,height:d.innerHeight||d.document.documentElement.clientHeight||d.document.body.clientHeight}},inDemoMode:function(){return void 0!==d.ShareaholicDemo},cleanLink:function(e){return"{permalink}"!==e&&"data:post.url.canonical"!==e||(e=null),e},cleanTitle:function(e){return"{title}"!==e&&"data:post.title"!==e||(e=null),e},convertFromSnakeCase:function(e){for(var t=Object.keys(e||{}),n={},r=0;r<t.length;r++)n[t[r].replace("_","-")]=e[t[r]];return n},calculatePositionInsideParent:function(e,t,n){var r=d.getComputedStyle(t),o=d.getComputedStyle(e),i=parseFloat(r.height),a=parseFloat(r.width),s=parseFloat(o.height),l=parseFloat(o.width),c=n.split("-"),u={top:0,left:0},h=c[0];"upper"===h?u.top=0:"lower"===h?u.top=i-s:"center"===h&&(u.top=(i-s)/2,u.left=(a-l)/2);var p=c[1]||"";return"left"===p?u.left=0:"right"===p&&(u.left=a-l),u},isAction:function(e){var t=!1;return e?"click"===e.type?t=!0:"keydown"===e.type?32===e.keyCode?(e.stopPropagation(),e.preventDefault()):13===e.keyCode&&(t=!0):"keyup"===e.type&&32===e.keyCode&&(t=!0):t=!0,t&&e&&(e.stopPropagation(),e.preventDefault()),t},addAccessibilityListener:function(e,t){if(t=t||!!d.document.head.querySelector("#shr-outline-style")){var n=d.document.createElement("style");n.setAttribute("id","shr-outline-style"),n.setAttribute("type","text/css"),n.innerHTML=".shr-outline{outline:none}",e.head.appendChild(n),e.body.addEventListener("keydown",u)}}};return h}),define("utils/localStore",[],function(){return{getObject:function(e){var t=this.getItem(e);try{return JSON.parse(t)}catch(e){return null}},setObject:function(e,t){try{return t=JSON.stringify(t),localStorage.setItem(e,t)}catch(e){return null}},getItem:function(e){try{return localStorage.getItem(e)}catch(e){return null}},setItem:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}}}),define("utils/cookies",[],function(){function e(){}return e.prototype.set=function(e,t,n){var r,o,i,a,s;return null==n&&(n={}),!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&(o="",n.expires&&(o=function(){switch(n.expires.constructor){case Number:return n.expires===1/0?"; expires=Tue, 19 Jan 2038 03:14:07 GMT":"; max-age="+n.expires;case String:return"; expires="+n.expires;case Date:return"; expires="+n.expires.toUTCString()}}()),i=encodeURIComponent(e)+"="+encodeURIComponent(t),r=n.domain?"; domain="+n.domain:"",a=n.path?"; path="+n.path:"",s=n.secure?"; secure":"",document.cookie=[i,o,r,a,s].join(""),!0)},e.prototype.get=function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},e.prototype.delete=function(e,t){var n,r;return null==t&&(t={}),!(!e||!this.hasItem(e))&&(n=t.domain?"; domain="+t.domain:"",r=t.path?"; path="+t.path:"",document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+n+r,!0)},e.prototype.hasItem=function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){var e,t,n,r,o;for(e=[],r=0,o=(n=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/)).length;r<o;r++)t=n[r],e.push(decodeURIComponent(t));return e},new e}),define("utils/settings",["require","lodash","utils/UUID","utils/utils","utils/localStore","utils/globalObject","utils/cookies"],function(e){var t,n,r=e("lodash"),o=e("utils/UUID"),i=e("utils/utils"),a=e("utils/localStore"),s=e("utils/globalObject"),l=e("utils/cookies"),c=a.getObject("SHR_V2_OVERRIDES")||{},u=a.getItem("SHR_DEBUG"),h=encodeURIComponent(s.location.toString()),p=a.getItem("SHR_E"),d=a.getItem("SHR_E_ENC"),f=l.get("SHR_E_ENC"),m=a.getItem("SHR_ID");m||(m=o.generateUUID(),a.setItem("SHR_ID",m)),window.settings=window.settings||{},t=i.getEnvironment();var g={dev:{recommendations:"https://recs.stageaholic.com/rec/",asid:"https://recs.stageaholic.com/asid",go:"https://go.stageaholic.com/e",share:"https://www.stageaholic.com/v2/share",shorten:"https://www.stageaholic.com/v2/share/shorten_link",share_count:"",follow:"https://www.stageaholic.com/v2/follow",image:"https://images.stageaholic.com/pagePic/",oauth:"https://www.stageaholic.com/auth/",oauth_callback:"https://www.stageaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",login_user:"https://www.stageaholic.com/sessions",analytics_pageview:"https://analytics.stageaholic.com/e",partners:"https://partner.stageaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.stageaholic.com",dashboard:"https://www.stageaholic.com/publisher_tools",adManager:"https://ads.stageaholic.com",services:"https://www.stageaholic.com/account/services",profile:"https://www.stageaholic.com/account/profile",account:"https://www.stageaholic.com/account",logout:"https://www.stageaholic.com/logout?origin="+h,login:"https://www.stageaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.stageaholic.com/signup"}},stage:{recommendations:"https://recs.stageaholic.com/rec/",asid:"https://recs.stageaholic.com/asid",go:"https://go.stageaholic.com/e",share:"https://www.stageaholic.com/v2/share",shorten:"https://www.stageaholic.com/v2/share/shorten_link",share_count:"",follow:"https://www.stageaholic.com/v2/follow",image:"https://images.stageaholic.com/pagePic/",oauth:"https://www.stageaholic.com/auth/",oauth_callback:"https://www.stageaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",login_user:"https://www.stageaholic.com/sessions",analytics_pageview:"https://analytics.stageaholic.com/e",partners:"https://partner.stageaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.stageaholic.com",dashboard:"https://www.stageaholic.com/publisher_tools",adManager:"https://ads.stageaholic.com",services:"https://www.stageaholic.com/account/services",profile:"https://www.stageaholic.com/account/profile",account:"https://www.stageaholic.com/account",logout:"https://www.stageaholic.com/logout?origin="+h,login:"https://www.stageaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.stageaholic.com/signup"}},production:{recommendations:"https://recs.shareaholic.com/rec/",asid:"https://recs.shareaholic.com/asid",go:"https://go.shareaholic.com/e",follow:"https://www.shareaholic.com/v2/follow",share:"https://www.shareaholic.com/v2/share",shorten:"https://www.shareaholic.com/v2/share/shorten_link",share_count:"",image:"https://images.shareaholic.com/pagePic/",oauth:"https://www.shareaholic.com/auth/",oauth_callback:"https://www.shareaholic.com/v2/authentication",local_recs_url:"/wp-admin/admin-ajax.php?action=shareaholic_permalink_related",local_plugin_info_url:null,user_info:"https://www.shareaholic.com/v2/user_info",user_site_info:"https://www.shareaholic.com/integrations/sdk/info",login_user:"https://www.shareaholic.com/sessions",analytics_pageview:"https://analytics.shareaholic.com/e",partners:"https://partner.shareaholic.com/partners.js",share_count_proxy:"https://www.shareaholic.net/api/share_counts/v1/counts",user_navigation:{base:"https://www.shareaholic.com",dashboard:"https://www.shareaholic.com/publisher_tools",adManager:"https://ads.shareaholic.com",services:"https://www.shareaholic.com/account/services",profile:"https://www.shareaholic.com/account/profile",account:"https://www.shareaholic.com/account",logout:"https://www.shareaholic.com/logout?origin="+h,login:"https://www.shareaholic.com/login?origin="+h,help:"https://support.shareaholic.com/",signup:"https://www.shareaholic.com/signup"}}};return n=r.defaults(window.settings||{},{debug:!1,uuid:m,e_hash:p,e_enc:d,e_cookie_enc:f,api_key:"",logger:{prefix_filter:".*"},google_analytics:{trace:!1,trackers:{shr:{name:"Shareaholic",id:"UA-12964573-5"},shr_pageviews:{name:"Shareaholic Pageviews",id:"UA-48513475-1",settings:{sampleRate:1}},shr_usage:{name:"Shareaholic Usage",id:"UA-12964573-15"},shr_post_share:{name:"Shareaholic Post Share",id:"UA-12964573-16"}}},_debugEndpoints:g,endpoints:r.defaults(g[t],{recommendations:"//recommendations.stageaholic.com/v4/recommend",traffic:"https://traffic.stageaholic.com/e",image:"//images.stageaholic.com/pagePic/",user_info:"https://www.stageaholic.com/v2/user_info",user_site_info:"https://www.stageaholic.com/integrations/sdk/info",share:"",follow:"",traffic_link:"",analytics:"",analytics_pageview:"",analytics_tag:"",share_counts:{buffer:"https://api.bufferapp.com/1/links/shares.json",facebook:"https://graph.facebook.com",fancy:"https://fancy.com/fancyit/count",odnoklassniki:"https://connect.ok.ru/dk",pinterest:"https://api.pinterest.com/v1/urls/count.json",reddit:"https://www.reddit.com/button_info.json",tumblr:"https://api.tumblr.com/v2/share/stats",vk:"https://vk.com/share.php",yummly:"https://www.yummly.com/services/yum-count"},ads:""}),shortpattern:/shr\.lc|goo\.gl|bit\.ly|yhoo\.it|j\.mp|tinyurl/,shortener_preferences:{api_key:null,login:null,service:"shrlc"},assetbase:"",fontbase:"",imagebase:"",services:{}}),n=r.merge(n,c.settings),"file:"===s.location.protocol.toString()&&(n.endpoints=r.mapValues(n.endpoints,function(e){return"string"==typeof e&&0!==e.indexOf("http")?"https:"+e:e}),n.endpoints.share_counts=r.mapValues(n.endpoints.share_counts,function(e){return"string"==typeof e&&0!==e.indexOf("http")?"https:"+e:e})),u&&(n.debug=!0),n}),define("utils/logger",["require","utils/globalObject","lodash","utils/settings"],function(e){"use strict";var o,r,i,t,a=e("utils/globalObject"),s=e("lodash"),l=e("utils/settings"),c=!1,u=[],h=new RegExp(l.logger.prefix_filter);function p(){s.each(u,function(e){a.console[e.name].apply(a.console,e.args)}),c&&(a.console.groupEnd(),c=!1),u=[]}function d(t,n,r){return n=(n=n||"").toUpperCase(),function(){var e;l.debug&&n.match(h)&&(e=s.toArray(arguments),n&&s.isString(e[0])&&(e[0]=n+e[0],r&&(e[0]="%c"+e[0],e.splice(1,0,"color: "+r))),o(t,n,e))}}function f(e,t,n){return"console"in a&&a.console.log?a.console[e]?d(e,t,n):d("log",t+"{"+e+"}",n):function(){}}return r=s.debounce(p,1),t=a.console,o=t&&"group"in t&&"groupEnd"in t&&"groupCollapsed"in t?function(e,t,n){c&&t!==i?(p(),u.push({name:e,args:n}),a.console.group(t),i=t,c=!0):(c||(a.console.group(t),i=t,c=!0),u.push({name:e,args:n}),r())}:function(e,t,n){s.isObject(a.console[e])?a.console[e](n.join(" ")):a.console[e].apply(a.console,n)},function t(e,n){var r,o={color:n,prefixes:[]};return this&&this.prefixes&&(o.prefixes=s.clone(this.prefixes)),o.prefixes.push(e),r=o.prefixes.join(": "),{child:function(e){return t.call(o,(e=e||{}).name,e.color)},error:f("error",r+=": ",n),log:f("log",r,n),table:f("table",r,n),debug:f("debug",r,n)}}("SHR")}),define("utils/profiler",["require","./logger"],function(e){"use strict";var n=e("./logger").child({name:"Profiler",color:"maroon"});return{logTime:function(e){var t=new Date;e=e||"No message",n.log([t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()].join(":"),e)}}}),define("utils/dom",["require","lodash","utils/settings","utils/globalObject","utils/utils","utils/logger"],function(o){var a=o("lodash"),s=o("utils/settings"),i=o("utils/globalObject"),l=o("utils/utils"),c=o("utils/logger").child({name:"DOM Utils",color:"black"}),u=i;function h(e){"loading"!==window.document.readyState?e():window.document.addEventListener("DOMContentLoaded",e)}function p(e){return u.document.querySelector(e)}function r(e,t){var n,r,o=s.fontbase,i=s.imagebase;return"/"!==o.charAt(o.length-1)&&(o+="/"),"/"!==i.charAt(i.length-1)&&(i+="/"),t=t||p("head"),r=a.template(e)({imagebase:function(e){return decodeURIComponent(i+e)},fontbase:function(e){return decodeURIComponent(o+e)}}),(n=u.document.createElement("style")).appendChild(u.document.createTextNode(r)),t.appendChild(n),n}function d(e,t,n){h(function(){n&&null!==n.querySelector("#"+e)||null===p("#"+e)&&r(t,n).setAttribute("id",e)})}function f(e){var t=u.getComputedStyle(e),n=e.getBoundingClientRect(),r=l.getWindowDimension(),o=Math.max(n.left,0),i=Math.max(n.top,0);return(Math.min(n.left+parseInt(t.width),r.width)-o)*(Math.min(n.top+parseInt(t.height),r.height)-i)}function t(e){var t=u.getComputedStyle(e),n=parseFloat(t.height)*parseFloat(t.width),r=f(e);return 0==n?0:r/n*100}function m(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}return{appendToUiDom:function(e,t){var n=p(t=t||"body");null!==n&&n.appendChild(e)},getZindex:function(e){for(var t,n="auto",r=0;null!==e&&"BODY"!==e.tagName;){var o=u.getComputedStyle(e);"static"!==o.getPropertyValue("position")&&(t=o.getPropertyValue("z-index"),t=parseInt(t,10),a.isFinite(t)&&(r=Math.max(r,t))),e=e.parentNode}return r&&(n=r+1),n},appendScriptTag:function(e,t){var n=u.document.createElement("script"),r=u.document.createTextNode(e);return n.appendChild(r),(t=t||i.document.body).appendChild(n),n},loadScript:function(e,t){var n,r=u.document.createElement("script");if(t=t||{},r.setAttribute("data-cfasync","false"),t.async&&(!0===t.async?r.async=!0:r.async=!1),t.preload&&!0===t.preload){var o=u.document.createElement("link");o.href=e,o.rel="preload",o.as="script",u.document.head.appendChild(o)}if(t.id){if(null!==(n=p("script#"+t.id)))return c.log("script tag with id %s already exists",t.id),n;r.id=t.id}return r.src=e,this.appendToUiDom(r,t.context),r},appendPixel:function(e,t){var n=e.replace("[[CACHEBUSTER]]",Math.floor(1e10*Math.random())),r=u.document.createElement("img");r.setAttribute("height","1px"),r.setAttribute("width","1px"),r.setAttribute("style","position:absolute; bottom:0; right:0; border:0"),r.addEventListener("load",function(){return r.parentNode.removeChild(r),t&&t()}),h(function(){p("body").appendChild(r),r.setAttribute("src",n)})},uiDOM:p,uiDOMAll:function(e){return u.document.querySelectorAll(e)},updateUiDOMWindow:function(e){u=e},visibleArea:f,percentageVisible:t,renderStyles:r,ensureStyles:d,loadAndEnsureStyles:function(n,e,r){return new Promise(function(t){o(["text!"+e],function(e){d(n,e,r),t()})})},fromTopPercentage:function(e){var t,n,r;if("scrolled"===e.what){var o=l.getWindowDimension();return t=p("body"),n=p("html"),r=Math.floor(u.pageYOffset/(Math.max(t.offsetHeight,n.offsetHeight)-o.height)*100),c.log("Scroll Depth: "+r+"%"),r}},fromTopPixel:function(e){var t;if("scrolled"===e.what)return t=u.pageYOffset,c.log("Scroll Depth: "+t+"px"),t},elementVisible:function(e){return 0<t(p(e))},getChildNumber:function(e,t){for(var n=e.children,r=0;r<n.length;r++)if(t===n[r])return r;return null},matches:m,parentMatches:function(e,t,n){for(var r=e.parentNode;null!==r;){if(n&&m(r,n));else if(m(r,t))return!0;r=r.parentElement}return!1},ready:h}}),define("utils/Emitter",["require","lodash"],function(e){var r=e("lodash");function t(){this._topics={}}return t.prototype={on:function(e,t){var n=this._topics[e]||[];n.push(t),this._topics[e]=n},off:function(e,t){var n=this._topics[e];r.remove(n,function(e){return e===t})},emit:function(e){var t=this._topics[e],n=r.toArray(arguments).slice(1);r.each(t,function(e){!function(e,t){e.apply(null,t)}(e,n)})}},function(){return new t}}),define("canvas/Canvas",["require","utils/dom","most","utils/Emitter","utils/globalObject","lodash"],function(e){var t=e("utils/dom"),o=e("most"),i=e("utils/Emitter"),n=e("utils/globalObject"),a=e("lodash");function r(e,t){var n=e.getAttribute("id"),r=this;t=t||{},a.defaults(t,{pageInfo:{},contentInfo:{},elementInfo:{},resizeStream:o.never(),scrollStream:o.never(),touchMoveStream:o.never(),contentStream:o.create(function(e,t){r._triggerContentChange=e,r._endContentChange=t})}),null===n&&void 0!==e&&(n=a.uniqueId("shr_canvas"),e.setAttribute("id",n)),this.id=n,this.root=e,this.pageInfo=t.pageInfo,this.contentInfo=t.contentInfo,this.elementInfo=t.elementInfo,this.resizeStream=t.resizeStream,this.scrollStream=t.scrollStream,this.touchMoveStream=t.touchMoveStream,this.contentStream=t.contentStream,this._emitter=new i}return r.prototype={on:function(){return this._emitter.on.apply(this._emitter,arguments)},off:function(){return this._emitter.off.apply(this._emitter,arguments)},close:a.noop,show:a.noop,hide:a.noop,onDestroy:a.noop,destroy:function(){this._endContentChange&&this._endContentChange()},percentVisible:function(){return t.percentageVisible(this.root)},dimensions:function(){var e=n.getComputedStyle(this.root);return{height:parseInt(e.height),width:parseInt(e.width)}},updateContent:function(){this._triggerContentChange&&this._triggerContentChange()},isAppVisible:function(t){return a.any(this.otherCanvases,function(e){return e.elementInfo.appName===t&&0<e.percentVisible()})},fromTopPercentage:function(e){return t.fromTopPercentage(e)},fromTopPixel:function(e){return t.fromTopPixel(e)},elementVisible:function(e){return t.elementVisible(e)}},r}),define("data/pageInfo",["require","lodash","utils/globalObject","utils/dom","utils/utils","utils/logger"],function(e){var t,n=e("lodash"),o=e("utils/globalObject"),i=/post[-|_]/,s=e("utils/dom"),r=e("utils/utils"),l=e("utils/logger").child({name:"PageInfo"}),c=new URL(o.document.location),a=["header#masthead",".header","#header","footer",".footer","#footer","aside",".sidebar","#sidebar",".comment",".post",'[id^="post"]','[id^="blog-post"]',"article",".breadcrumbs","#breadcrumbs",".comments","#comments"].join(",");function u(e,t){var n=s.uiDOM(e);if(null!==n)return n.getAttribute(t)}function h(e){var r=0,o="",t=e.querySelectorAll("h1, header, .title");return Array.prototype.forEach.call(t,function(e){var t=0,n=e.textContent.trim().replace(/(\r\n|\n|\r)/gm,"").replace(/\s{2,}/g," ");n.length&&(t=function(e){var t=0;e.tagName.match(/header|h1/i)&&(t+=10);e.className.match(/title/)&&(t+=8);return t}(e)),r<t&&(o=n,r=t)}),o}function p(e,t){var n,r=new RegExp(["^javascript:","dtym7iokkjlif","dsms0mj1bbhn4","/feed/",".rss",".jpg",".jpeg",".gif",".png","/wp-admin/"].join("|"),"gi"),o=0,i="";if(t<=1)return d();var a=e.querySelectorAll("a");if(Array.prototype.forEach.call(a,function(e){var t;!function(e,t){return!(0===t.length||s.parentMatches(e,"[class*=shareaholic-ui]")||s.parentMatches(e,".linkwithin_outer")||t.match(r))}(e,e.href)||(t=function(e){return function(e){var t=0;e.match(/post/)&&(t+=8);e.match(/\?p=/)&&(t+=8);e.match(/\/[\d]{4}\/[\d]{2}\//)&&(t+=8);e.match(/\/blog\//)&&(t+=6);e.match(/bloglovin/gi)&&(t-=6);return t}(e.href)+function(e){var t=0;"bookmark"===e.rel&&(t+=16);e.title.match(/permalink/i)&&(t+=12);e.children&&null!==e.querySelector(".for_permalink")&&(t+=12);return t}(e)+function(e){var t=0,n=e.tagName.toLowerCase();n.match(/header|h1/)&&(t+=8);n.match(/h2/)&&(t+=5);n.match(/h3/)&&(t+=4);n.match(/h4/)&&(t+=3);n.match(/h5/)&&(t+=2);n.match(/h6/)&&(t+=1);n.match(/header|h1|h2|h3|h4|h5|h6/)&&e.className.match(/title/)&&(t+=10);return t}(e.parentNode)}(e),o<t&&(n=e,o=t))}),n){i=n.href;try{i=new URL(i,c)}catch(e){l.log("warning error normalizing URL ",e)}}else i=d();return i.toString()}function d(){var e=u('meta[name*="shareaholic:url"]',"content");if((e=(e=e||u('link[rel*="canonical"]',"href"))||u('meta[property*="og:url"]',"content"))&&0!==e.indexOf("http")){var t=c.host;0<=e.indexOf(t)&&(e=e.slice(e.indexOf(t)+t.length)),e=new URL(e,c).toString()}return e&&"function"==typeof e.trim&&(e=e.trim()),e||c.toString()}function f(e){return new URL(e,c).host!==c.host}function m(){var e=u('meta[name*="shareaholic:language"]',"content");return null!=e&&""!==e||null!=(e=o.document.documentElement.lang)&&""!==e||null!=(e=document.getElementsByTagName("html")[0].getAttribute("xml:lang"))&&""!==e||(e=u('meta[name*="og:locale"]',"content")),function(e){if(null!=e&&""!==e)return e=e.replace("_","-"),new RegExp("^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$").test(e)?e:void 0}(e)}function g(e){return c=new URL(o.document.location),t&&!0!==e?(t.pageUrl=new URL(c),t.canonicalUrl=d()||c.toString()):(t={pageUrl:new URL(c),domain:c.hostname,title:function(){var e=s.uiDOM("title");return u('meta[property*="og:title"]',"content")||u('meta[name*="twitter:title"]',"content")||e&&e.textContent}(),images:v(),hasEmailAddressInURL:/(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.test(decodeURIComponent(o.document.location)),isCurrentUrlHttpUrl:0===o.location.href.indexOf("http"),canonicalUrl:d()||c.toString(),wordpress:function(){var e=u('meta[name*="shareaholic:wp_version"]',"content");if(e)return{version:e}}(),drupal:function(){var e=u('meta[name*="shareaholic:drupal_version"]',"content");return e?{version:e}:void 0}(),posts:function(){var n=s.uiDOMAll("article");return 0===n.length&&(n=s.uiDOMAll("#posts"),n=Array.prototype.reduce.call(Array.prototype.map.call(n,function(e){return Array.prototype.slice.call(e.children,0)}),function(e,t){return e.concat(t)},[])),0===n.length&&(n=s.uiDOMAll(".post")),0===n.length&&(n=s.uiDOMAll('[id^="post"]')),0===n.length&&(n=s.uiDOMAll('[id^="blog-post"]')),n=(n=Array.prototype.filter.call(n,function(e){return!s.parentMatches(e,a)})).map(function(e){var t={element:e,description:"",image:"",url:p(e,n.length)};return t.url?(t.title=h(e),t):null}).filter(function(e){return null!==e})}(),lang:m(),isShareable:"false"!==u('meta[name*="shareaholic:shareable_page"]',"content")&&!w(c),isPublic:function(){var e=u('meta[name*="shareaholic:article_visibility"]',"content");return"draft"!==e&&"private"!==e}(),referrer:function(){var e=o.document.referrer;if(2e3<e.length){var n=new URL(e);n.searchParams.forEach(function(e,t){return n.searchParams.delete(t)}),e=n.toString()}return e}(),isOtherDomain:f,isPinterestShareablePage:"nopin"!==u('meta[name*="pinterest"]',"content")}).title=r.collapseWhitespace(t.title),t}function b(e){return s.matches(e,"[class*=shareaholic]")?[]:e.querySelectorAll("img:not([class*=shareaholic])")}function _(e,n){return Array.prototype.forEach.call(e,function(e){var t=e.src;/^http|https/.test(t)&&n.push(t)}),n}function v(){var e=s.uiDOM("html"),t=e.querySelectorAll("meta[property*=image]"),n=b(e.querySelector("body")),r=[];return Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("content");t&&r.push(t)}),_(n,r)}function y(e){return n.chain(e).compact().unique().value()}function w(e){var t=e.pathname,n="/b/post-preview",r=t.indexOf(n);return-1!==r&&t.length-n.length===r}return{getPageInfo:g,contentInfo:function(e){var t,n=g(o),r="";return s.matches(e,"img")&&(r=e.src.trim(),void 0!==e.dataset.pinMedia&&0<e.dataset.pinMedia.length&&(r=e.dataset.pinMedia.trim())),n.posts.length<=1?{title:n.title,link:n.canonicalUrl,images:y([r].concat(v()))}:{title:h(t=function(e){for(var t=e.parentNode;!s.matches(t,"body");){if(i.test(t.getAttribute("id"))||t.classList.contains("post")||s.matches(t,"[class*=entry]")&&s.matches(t,"article"))return t;t=t.parentNode}return e}(e)),link:p(t,n.posts.length),images:y([r].concat(function(e){var t=b(e),n=v();return _(t,[]).concat(n)}(t)))}},elementInfo:function(e){var t=Object.assign({},e.dataset);return t.url&&(t.url=t.url.trim()),t.link&&(t.link=t.link.trim()),t.title&&(t.title=t.title.trim()),t.url&&!t.link&&(t.link=t.url),t.link=r.cleanLink(t.link),t.title=r.cleanTitle(t.title),t.services&&(t.services=n.each(t.services.split(","),function(e){return e.trim()})),t},resetCache:function(){t=void 0},updateGlobal:function(e){o=e},_isPreviewPage:w,isPreviewPage:function(){return w(c)},getPageCanonicalUrl:d}}),define("canvas/HoverCanvas",["require","lodash","./Canvas","utils/dom","utils/globalObject","data/pageInfo","utils/utils"],function(e){var f=e("lodash"),o=e("./Canvas"),i=e("utils/dom"),m=e("utils/globalObject"),t=e("data/pageInfo"),n=e("utils/utils");function r(e,c){var u=this,h=null;o.apply(this,arguments),e.style.pointerEvents="none",f.defaults(c,{targetSelector:"html",targetEnter:f.noop,targetLeave:f.noop,targetPosition:f.noop,targetEnterAction:"mouseover",targetLeaveAction:"mouseout"}),this._targetPosition=c.targetPosition,this._targets=Array.prototype.slice.call(i.uiDOMAll(c.targetSelector),0),this._listeners=[];var p=[];function d(t,e){var n=!0;return t.target!==e&&u._targets.forEach(function(e){e===t.target&&(n=!1)}),n}function t(s){function e(e){if(d(e,s)){c.targetEnter(this,u.root)&&(clearTimeout(h),h=null,u._activate(this))}}function t(e){if(d(e,s)){var t=this,n=t.getBoundingClientRect(),r=n.top+m.pageYOffset,o=n.left+m.pageXOffset,i=n.bottom+m.pageYOffset,a=n.right+m.pageXOffset;(e.pageY<r||e.pageY>i||e.pageX<o||e.pageX>a)&&null===h&&(h=setTimeout(function(){c.targetLeave(t,u.root),h=null},100))}}s.addEventListener(c.targetEnterAction,e),s.addEventListener(c.targetLeaveAction,t),u._listeners.push([s,c.targetEnterAction,e]),u._listeners.push([s,c.targetLeaveAction,t])}function n(e){function t(e){var t=s.children[l];i.matches(t,c.targetSelector)&&d(e,t)&&c.targetEnter(t,u.root)&&(clearTimeout(h),h=null,u._activate(t))}function n(e){var t=s.children[l];if(d(e,t)){var n=t.getBoundingClientRect(),r=n.top+m.pageYOffset,o=n.left+m.pageXOffset,i=n.bottom+m.pageYOffset,a=n.right+m.pageXOffset;(e.pageY<r||e.pageY>i||e.pageX<o||e.pageX>a)&&null===h&&(h=setTimeout(function(){c.targetLeave(t,u.root),h=null},100))}}var s=e.parentElement,l=i.getChildNumber(s,e);s.addEventListener(c.targetEnterAction,t),s.addEventListener(c.targetLeaveAction,n),u._listeners.push([e,c.targetEnterAction,t]),u._listeners.push([e,c.targetLeaveAction,n])}this._targets.forEach(function(e,t){var n=e.parentElement,r=m.getComputedStyle(e),o=m.getComputedStyle(n),i=parseFloat(r.height),a=parseFloat(r.width),s=parseFloat(o.height),l=parseFloat(o.width);!f.includes(["absolute","relative","sticky"],r.position)||"auto"===r.top&&"auto"===r.left&&"auto"===r.right&&"auto"===r.bottom?i===s&&a===l&&p.push(n):"hidden"===r.overflow&&.98<=i*a/(s*l)&&(u._target[t]=n)});for(var r=0;r<this._targets.length;r++){n(this._targets[r])}for(r=0;r<p.length;r++)t(p[r]);this.root.style.display="none"}return r.prototype=Object.create(o.prototype),f.assign(r.prototype,{constructor:r,_activate:function(e){this.elementInfo=Object.assign({},e.dataset),this.elementInfo.mediaInfo=this.elementInfo.mediaInfo||{},this.elementInfo.mediaInfo.title=n.cleanTitle(this._getPinnableImageDesc(e)),this.elementInfo.mediaInfo.pinURL=n.cleanLink(this._getPinnableLink(e)),this.contentInfo=t.contentInfo(e),this._targetPosition(e,this.root),this.updateContent()},destroy:function(){this._listeners.forEach(function(e){var t=e[0],n=e[1],r=e[2];t.removeEventListener(n,r)}),this._listeners=[],o.prototype.destroy.call(this)},_getAnchorLink:function(e){for(var t=e;null!==t&&!i.matches(t,"a");)t=t.parentElement;if(null!==t){var n=t.getAttribute("href");if(!(/\.(gif|jpg|jpeg|png|webp|svg)$/i.test(n)||i.matches(e,"img")&&n===e.getAttribute("src")))return n}},_getPinnableLink:function(e){if(i.matches(e,"img")){var t=[e.dataset.pinUrl||"",this._getAnchorLink(e)];return(t=f.filter(t,function(e){return!!e})).length?t[0]:null}return null},_getPinnableImageDesc:function(e){if(!i.matches(e,"img"))return"";var t=[e.dataset.pinDescription||"",e.getAttribute("title")||"",e.getAttribute("alt")||""];return(t=f.filter(t,function(e){return 8<=e.replace(/\s/g,"").length})).length?t[0]:""}}),r}),define("utils/CanvasResolver",["require","utils/dom","utils/utils","lodash","utils/globalObject","canvas/Canvas","canvas/HoverCanvas","data/pageInfo","most","utils/logger"],function(e){var i=e("utils/dom"),t=e("utils/utils"),a=e("lodash"),s=e("utils/globalObject"),l=e("canvas/Canvas"),c=e("canvas/HoverCanvas"),u=e("data/pageInfo"),n=e("most"),r=e("utils/logger"),o="shareaholic-resolved-canvas";function h(e){this._root=e||i.uiDOM("body"),this._queries=[],this._contentPoller,this._canvases,this._canvasList=[],this._resizeStream=n.fromEvent("resize",s).debounce(100),this._scrollStream=n.fromEvent("scroll",s).debounce(100),this._touchMoveStream=n.fromEvent("touchmove",s).debounce(100),this._initContentPoller()}return r=r.child({name:"CanvasResolver",color:"purple"}),h.prototype={_addCanvases:function(e){var t=i.uiDOM;switch(e){case"shareable_images":if(null===t('[data-app="shareable_images"]')){var n=s.document.createElement("div");n.setAttribute("class","shareaholic-canvas shareaholic-media-overlay"),n.setAttribute("data-app","shareable_images"),n.style.display="none",i.appendToUiDom(n)}break;case"cookie_consent":if(null===t('[data-app="cookie_consent"]')){var r=s.document.createElement("div");r.setAttribute("class","shareaholic-canvas"),r.setAttribute("data-app","cookie_consent"),r.style.display="none",i.appendToUiDom(r)}break;case"floated_share_buttons":if(null===t('[data-app="floated_share_buttons"]')){var o=s.document.createElement("div");o.setAttribute("class","shareaholic-canvas shareaholic-share-buttons-container"),o.setAttribute("data-app","floated_share_buttons"),o.style.display="none",i.appendToUiDom(o)}}},_getCanvasForApp:function(n,e){var t,r=[];return e=e||this._root,this._addCanvases(n),t=this._getCanvases(e),Array.prototype.forEach.call(t,function(e){var t=e.dataset;t&&(t.app&&0===t.app.indexOf(n)||t.shareaholicWidgets&&0===t.shareaholicWidgets.indexOf(n))&&(e.classList.contains(o)||r.push(e))}),r},_getCanvases:function(e){return this._canvases=e.querySelectorAll(".shareaholic-canvas"),this._canvases},_getBookmarkletSlot:function(){var e=s.document.createElement("div");return e.setAttribute("class","shr-bookmarklet"),this._root.appendChild(e),e},_getCanvasForElement:function(e,t,n){var r,o={};return t.classList.add("shareaholic-ui"),t.style.display="",this._resolveCanvas(t),o.pageInfo=u.getPageInfo(s),o.contentInfo=u.contentInfo(t),o.elementInfo=u.elementInfo(t),o.elementInfo.appName=n,o.resizeStream=this._resizeStream,o.scrollStream=this._scrollStream,o.touchMoveStream=this._touchMoveStream,r="hover"===e.type?(o=a.merge(o,e.canvasOptions),new c(t,o)):new l(t,o),this._canvasList.push(r),r.otherCanvases=this._canvasList,r},_resolveCanvas:function(e){e.classList.add(o)},scan:function(t){var n=!1;return a.each(this._queries,function(e){this._search(e.params,function(){n=!0,e.cb.apply(this,arguments)},t)},this),n},onCanvas:function(e,t){var n=this,r={id:a.uniqueId("canvasQuery"),params:e,cb:t};return"app"===r.params.type&&this._queries.push(r),this._search(r.params,r.cb),{remove:function(){a.remove(n._queries,function(e){return e.id===r.id})}}},_search:function(t,n,e){var r;"bookmarklet"===t.type?n(this._getCanvasForElement(t,this._getBookmarkletSlot(),"dev")):"app"!==t.type&&"hover"!==t.type||(r=this._getCanvasForApp(t.appName,e),a.each(r,function(e){if(a.isNumber(t.limit)){if(0===t.limit)return;t.limit--,n(this._getCanvasForElement(t,e,t.appName))}else n(this._getCanvasForElement(t,e,t.appName))},this))},_initContentPoller:function(){var e=this;this._contentPoller=t.polling(500,2e3,function(){return e.scan()}),this._contentPoller.start()},_destroy:function(){this._queries=[],this._canvases=null,this._canvasList=null,this._contentPoller.stop()}},h}),define("data/defaultPublisherConfig",[],function(){return{_init_legacy:!1,_init_canvases:!0,api_key:null,site_id:null,_migrate_apps:null,domain:null,site_name:null,_platform:null,_platform_id:null,_category_id:null,_language_id:null,_site_verified:!1,_last_checked_at:null,_dispatchers:null,_is_special:null,_container_id:"shareaholic-container",data_partners_enabled:!0,x_device_enabled:!0,adzerk_site_id:null,analytics_ga_id:"",analytics_ga_enabled:!1,badge:{enabled:!1,theme:null,position:"lower-left",offset:"15px"},apps:{prompts:{enabled:!1,data:{},properties:{}},share_buttons:{analytics_utm_source:"${service_type}",analytics_utm_medium:"${service_name}",analytics_utm_campaign:"shareaholic",analytics_utm_enabled:!0,recovery_protocols:!1,recovery_base_domain:null,recovery_previous_domain:!1,enabled:!0,templates:{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"}},locations:{1:{enabled:!0,services:["facebook","twitter","pinterest","linkedin","email_this"],show_all_services_button:!0,headline:{text:""},theme:"",counter:"badge-counter"}},default_location_id:1,post_share_enabled:!0,post_share_ads_enabled:!0,post_share_custom_enabled:!1,post_share_custom_desktop:!1,post_share_custom_mobile:!1,post_share_follow_buttons_enabled:!1,post_share_follow_buttons_any:!1,post_share_follow_buttons_location_id:null,post_share_heading:"Thanks for sharing!",total_share_count_min:0},recommendations:{enabled:!0,blacklist:"",show_attribution:!0,approved_display_ads:!0,approved_native_ads:!0,promoted_content_level:0,display_ads_unit_count:4,locations:{2:{enabled:!0,theme:"",total:"medium",headline:{text:"You may also like:",style:{}}}},default_location_id:2},cookie_consent:{enabled:!1,show_to:0,message:"This website uses cookies",accept_button_text:"Okay",info_button_text:"More info",policy_url:"/privacy"},floated_share_buttons:{enabled:!1,services:[],show_all_services_button:!0,theme:"flat",style_class:"floated flat vertical",mobile_services:["facebook","twitter","email_this","whatsapp","sms"],mobile_class:"flat floated mobile bottom-align inset-counter",show_all_services_button_mobile:!0},_ad_spaces:{enabled:!0,approved:!1,show_attribution:!0,locations:{5:{enabled:!0,ad_format:"auto"}},default_location_id:5},follow_buttons:{enabled:!0,locations:{7:{enabled:!0,services_list:[],headline_text:"",theme:"flat"}},default_location_id:7},affiliate_links:{approved:!0,enabled:!0},anchor_ad:{enabled_mobile:!1,enabled_desktop:!1,approved:!0},_infinite_scroll_helper:{enabled:!0},_legacy_helper:{enabled:!1},total_share_count:{enabled:!0,services:["facebook","twitter","pinterest","tumblr","reddit","yummly","vk","buffer","fancy"],total_share_count:!0,total_share_count_text_color:"000000",total_share_count_bg_color:"ffffff",total_share_count_opacity:0,total_share_count_label:"Shares"}}}}),define("data/publisherConfig",["require","./defaultPublisherConfig","utils/utils","utils/settings","lodash","utils/globalObject","utils/logger"],function(e){var n,r,o,t,i,a=e("./defaultPublisherConfig"),c=e("utils/utils"),s=e("utils/settings"),u=e("lodash"),l=e("utils/globalObject"),h=e("utils/logger").child({name:"Publisher Config"}),p=/^v2_migrate_/,d=!s.bookmarklet,f={dev:{viglink:"0b3c47284874042c7a0a8775a40fb9b9"},stage:{viglink:"0b3c47284874042c7a0a8775a40fb9b9"},production:{viglink:"0d3176c012db018d69225ad1c36210fa"}};function m(e,t){var n={};return e.post_share_follow_buttons_enabled&&(n=function(e,t){return e=e||t.default_location_id,u.merge({},t,t.locations[e])}(e.post_share_follow_buttons_location_id,t.follow_buttons)),{apiKey:s.apiKey,app_id:n.location_id,app_id_name:n.name,endpoint:s.endpoints.follow,title:n.headline_text,services_list:n.services_list,theme:n.style_class,customColors:{customColorsEnabled:n.follow_button_custom_colors,background:"#"+n.follow_button_custom_colors_bg_color,color:"#"+n.follow_button_custom_colors_logo_color,opacity:n.follow_button_custom_colors_opacity}}}function g(){return{assetbase:s.assetbase,userNavigation:u.clone(s.endpoints.user_navigation),shareEndpoint:s.endpoints.share,shortener:s.shortener_preferences,templates:a.apps.share_buttons.templates}}function b(e){h.log(e);var t={enabled:!0};return e&&void 0!==e.x_device_enabled&&(t.enabled=e.x_device_enabled),t}function _(e){return{"text-style":{headline:e||"Thanks for sharing!",alignment:"center-align",color:"FFFFFF","background-color":"64C667","font-family":"Open Sans","font-size":"28px","font-weight":400,"font-style":"normal"},"app-style":{"shareaholic-branding":!0,color:"555555","background-color":"FFFFFF"}}}function v(e,t,n,r){return e.adzerk_site_id=n.adzerk_site_id,e.imagebase=s.imagebase,e.shareEndpoint=s.endpoints.share,e.homepage=n.homepage,e.userNavigation=u.clone(s.endpoints.user_navigation),e.shortener=r,e.follow_buttons=m(e,t),e.totalShareCountMin=e.total_share_count_min,e.analytics_utm_campaign=e.analytics_utm_campaign||t.share_buttons.analytics_utm_campaign,e.analytics_utm_medium=e.analytics_utm_medium||t.share_buttons.analytics_utm_medium,e.analytics_utm_source=e.analytics_utm_source||t.share_buttons.analytics_utm_source,e.recovery_protocols=e.recovery_protocols||t.share_buttons.recovery_protocols,e.recovery_previous_domain=e.recovery_previous_domain||t.share_buttons.recovery_previous_domain,e.recovery_base_domain=e.recovery_base_domain||t.share_buttons.recovery_base_domain,null==e.analytics_utm_enabled?e.analytics_utm_enabled=t.share_buttons.analytics_utm_enabled:e.analytics_utm_enabled=e.analytics_utm_enabled,e.templates=t.share_buttons.templates||{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"},twitter:{related:null,body:"${title} - ${short_link}"}},t.share_buttons.message_format&&(e.templates.twitter.body=t.share_buttons.message_format),void 0===t.share_buttons.post_share_customization?e.postShareCustomization=_(e.post_share_heading):(e.postShareCustomization=t.share_buttons.post_share_customization,delete e.post_share_customization),e.proxy_enabled=e.proxy_enabled||t.share_buttons.proxy_enabled,e.proxy_cache_time=e.proxy_cache_time||t.share_buttons.proxy_cache_time,e.apiKey=s.apiKey,e}function y(e,t){var n=t.apps.share_buttons;if(n)return e.total_share_count_min=n.total_share_count_min,e}function w(o,i){var a=o.shortener_preferences;return u.transform(i,function(e,t,n){var r=u.cloneDeep(t);r.apiKey=s.apiKey,"share_buttons"===n?r=v(r,i,o,a):"shareable_images"===n?r=function(e,t,n,r){var o=t.share_buttons;return o&&(e.post_share_ads_enabled=o.post_share_ads_enabled,t.recommendations.approved_display_ads||(e.post_share_ads_enabled=!1),e.post_share_enabled=o.post_share_enabled,e.adzerk_site_id=n.adzerk_site_id,e.follow_buttons=m(o,t),void 0===o.post_share_customization?e.postShareCustomization=_(o.post_share_heading):e.postShareCustomization=o.post_share_customization),e.homepage=n.homepage,e.imagebase=s.imagebase,e.shareEndpoint=s.endpoints.share,e.shortener=r,e.headline_text="",e.share_button_custom_colors=!!e.share_button_custom_colors,e.share_button_custom_colors_bg_color=e.share_button_custom_colors_bg_color||"45a147",e.share_button_custom_colors_logo_color=e.share_button_custom_colors_logo_color||"ffffff",e.share_button_custom_colors_opacity=e.share_button_custom_colors_opacity||"0.5",e.size=e.size||"normal",e.orientation=e.orientation||"horizontal",e.position=e.position||"upper-left",e.vertical_offset=e.vertical_offset||"10px",e.horizontal_offset=e.horizontal_offset||"10px",e.icon_padding=e.icon_padding||"5px",e.theme=e.theme||"classic",e.ignore_links_to_other_pages=!!e.ignore_links_to_other_pages,e.ignore_links_to_other_images=!!e.ignore_links_to_other_images,e.services=u.map(e.services||["pinterest"],function(e){return{nickname:e,handler:"mail"===e||"email_this"===e?"share_via_protocol":"share_via_redirect"}}),e.templates=t.share_buttons.templates||{email:{subject:"${title}",body:"Link: ${link}\n\n${notes}\n\n--\nShared via ${source}"},twitter:{related:null,body:"${title} - ${short_link}"}},t.share_buttons.message_format&&(e.templates.twitter.body=t.share_buttons.message_format),e}(r,i,o,a):"follow_buttons"===n?r=function(e){return e.followEndpoint=s.endpoints.follow,e}(r):"floated_share_buttons"===n?r=function(e,t,n,r){var o=t.share_buttons;return e.post_share_ads_enabled=o.post_share_ads_enabled,t.recommendations.approved_display_ads||(e.post_share_ads_enabled=!1),e.post_share_enabled=o.post_share_enabled,e.post_share_heading=o.post_share_heading,e.adzerk_site_id=n.adzerk_site_id,e.shortener=r,e.smart_sort=o.smart_sort,e.recovery_protocols=o.recovery_protocols,e.recovery_structure=o.recovery_structure,e.recovery_base_domain=o.recovery_base_domain,e.recovery_previous_domain=o.recovery_previous_domain,e.recovery_previous_url_format=o.recovery_previous_url_format,e=v(e,t,n,r),c.isMobile()&&(e.style_class=e.mobile_class,e.vertical_offset="inherit",e.show_all_services_button=e.show_all_services_button_mobile,e.services=e.mobile_services,e.counter=e.mobile_counter,e.total_share_count=e.mobile_total_share_count,e.total_share_count_text_color=e.mobile_total_share_count_text_color,e.total_share_count_bg_color=e.mobile_total_share_count_bg_color,e.total_share_count_label=e.mobile_total_share_count_label,e.total_share_count_opacity=e.mobile_total_share_count_opacity,e.share_button_custom_colors=e.mobile_share_button_custom_colors,e.share_button_custom_colors_bg_color=e.mobile_share_button_custom_colors_bg_color,e.share_button_custom_colors_logo_color=e.mobile_share_button_custom_colors_logo_color,e.share_button_custom_colors_opacity=e.mobile_share_button_custom_colors_opacity),o&&(e.follow_buttons=m(o,t)),e}(r=y(r,o),i,o,a):"affiliate_links"===n?r=function(e){var t=f[c.getEnvironment()]||f.production;return e.viglink={cdnJs:"https://cdn.viglink.com/api/vglnk.js"},e.viglink.apiKey=t.viglink,e.apiKey=s.apiKey,e}(r):"anchor_ad"===n?r=function(e,t){return!0!==e.enabled_mobile&&!0!==e.enabled_desktop||(e.enabled=!0),e.adzerk_site_id=t.adzerk_site_id,e}(r,o):"outstream_video_ad"===n?r=function(e,t){return e.enabled=!1,e.adzerk_site_id=t.adzerk_site_id,e}(r,o):"in_image_ad"===n?r=function(e,t){return e.enabled=!1,e.adzerk_site_id=t.adzerk_site_id,e}(r,o):"partners"===n?r=function(e,t){return e.apiKey=s.apiKey,e.partnersUrl=s.endpoints.partners,e.domain=t.domain,e}(r,o):"adminbadge"===n?r=function(e,t){return e.apiKey=s.apiKey,e.domain=t.domain,e.enabled=t.badge.enabled,e.theme=t.badge.theme,e.position=t.badge.position,e.offset=t.badge.offset,e.imagebase=s.imagebase,e}(r,o):"prompts"===n?r=function(e,t){var n=t.apps.prompts;return e.homepage=t.homepage,e.data=l._SHR_PROMPTS_SETTINGS||n.data,e.properties=l._SHR_PROMPTS_PROPERTIES,void 0!==l._SHR_PROMPTS_SETTINGS&&(e.enabled=!0),e}(r,o):"total_share_count"===n&&(r=function(e,t,n,r){return(e=v(e,t,r,n)).showOnlyTotalCount=!0,e}(r=y(r,o),i,a,o)),r.isMobileMode=c.isMobile(),r.isDesktopMode=c.isDesktop(),r.adzerkSiteId=o.adzerk_site_id,r.clientGeoLatLong=o.x_client_geo_latlong,r.clientGeoCountry=o.x_client_geo_country,r.clientGeoCity=o.x_client_geo_city,r.clientGeoZip=o.x_client_geo_zip,r.clientGeoRegion=o.x_client_geo_region,r.clientGeoMetrocode=o.x_client_geo_metrocode,e[n]=r})}function x(e,r){var t=function(e){return u.reduce(e,function(e,t,n){return p.test(n)&&(e[n.replace(p,"")]=t),e},{})}(e);return u.reduce(t,function(e,t,n){return r&&n in r||(e[n]=t),e},{})}function S(e){var t=u.cloneDeep(e);return function n(r,o){u.each(r,function(e,t){u.isString(t)&&0===t.indexOf("_")?(delete r[t],delete o[t.replace("_","")]):u.isObject(e)&&n(e,o[t]||{}),o.default_location_id&&delete o.default_location_id})}(n=u.cloneDeep(a),t),function n(r){u.each(r,function(e,t){null==e?delete r[t]:u.isObject(e)&&n(e)})}(n),n=u.merge({site_id:i},n,t,o,function(e,t){if(u.isArray(e)&&u.isArray(t))return t})}var k={setSiteId:function(e){i=e},setConfig:function(e){S(e)},setBookmarkletOverrides:function(e){o=e},getAppConfigs:function(){return r?Promise.resolve(r):k.getMergedConfig().then(function(e){try{e=function(e){return e.apps.partners={},e.apps.partners.enabled=e.data_partners_enabled,e.apps.adminbadge={},e}(e),r=u.cloneDeep(e.apps)}catch(e){h.error("Could not get app config from legacy namespace",e),r={}}return r=w(e,r=function(e){var t=!(!o||!o.apps);return d&&!t?(h.log("Filtering apps for production mode"),e):d&&t&&!s.bookmarklet?(h.log("Filtering apps for upcoming bookmarklet mode"),x(e,o.apps)):s.bookmarklet&&t?(h.log("Filtering apps for bookmarklet mode"),function(e){return e}(e)):(h.error("Unknown app filtering mode"),{})}(r)),o&&u.each(r,function(e,t){o.settings&&o.settings.apps&&o.settings.apps[t]&&(r[t]=u.merge(r[t],o.settings.apps[t]))}),r})},getBookmarkletConfig:function(){return k.getMergedConfig().then(g)},getXDeviceConfig:function(){return k.getMergedConfig().then(b)},getConfigForCanvas:function(l){return k.getAppConfigs().then(function(e){var t,n=e[l.elementInfo.appName],r=c.underscoreKeys(l.elementInfo),o=n.default_location_id,i=o?n.locations[o]:null,a=o;if(r.app_id)a=r.app_id;else if(r.app_id_name){var s=u.find(n.locations,function(e){return e.name===r.app_id_name});s&&(a=s.location_id)}return t=a?u.merge({},n,n.locations[a],r):u.merge({},n,r,function(e,t){return u.isArray(e)&&u.isArray(t)?t:u.merge(e,t)}),u.merge(t,i,function(e,t){return void 0===e||r.inline?t:e}),delete t.default_location_id,delete t.locations,t})},getMergedConfig:function(){return n?Promise.resolve(n):(i?t?Promise.resolve(t):void 0:Promise.resolve({})).then(S)},getDefaultConfig:function(){return u.cloneDeep(a)},clearState:function(){o=t=i=r=n=void 0}};return k}),define("data/DataStore",["require","utils/logger"],function(e){var o=e("utils/logger");o=o.child({name:"DataStore",color:"#B0A487"});var n={};return function(){function r(e,t,n){_classCallCheck(this,r),this._settings=e,this._pageInfo=t,n=n||{},this._providerLookup=n.providers||{},this._dataLookup={}}return _createClass(r,null,[{key:"register",value:function(e,t){n[e]=t}}]),_createClass(r,[{key:"validateConfig",value:function(){var e={valid:!1};return this._settings?this._settings.endpoints?this._pageInfo?e.valid=!0:e.message="missing page info":e.message="missing endpoints":e.message="missing settings",e}},{key:"get",value:function(e){var t;if(e.type in this._providerLookup)return(0,this._providerLookup[e.type])(e,this._settings,this._pageInfo);if(e.type in n)return(0,n[e.type])(e,this._settings,this._pageInfo);if(e.type in this._dataLookup)return this._dataLookup[e.type];throw(t=new TypeError("Unknown query type "+e.type)).data=e,o.error(t.message),t}},{key:"set",value:function(e,t){if(e in this._dataLookup){var n=new TypeError("Data already exists in lookup "+e);throw n.data=e,o.error(n.message),n}this._dataLookup[e]=t}}]),r}()}),define("utils/DisplayRules",["require","utils/utils","lodash"],function(e){var t=e("utils/utils"),o=e("lodash"),r=/https?:\/\//,i=/^\//,a=/\/$/,s=/^(www\.)/;function n(e){return e.replace(/\.[a-zA-Z0-9\-]*\b/g,"")}function l(e,t,n){e&&t?(this.canCheckRules=!0,e=e.replace(r,""),e=new URL("http://"+e).toString().substring(7),this.homepage=e.replace(a,"").replace(s,""),this.canonicalUrl=t,this.location=t.replace(this.homepage,"").replace(r,"").replace(s,"").replace(i,""),this.location=decodeURIComponent(this.location),this.locationUrl=n||""):this.canCheckRules=!1}function c(t){return function(e){return e.path&&(e.path=e.path.replace(/^\//,"")),{passed:t[e.condition](e.path)}}}return o.extend(l.prototype,{matching:function(e){return e=e.replace(i,""),e=decodeURIComponent(e),this.location===e},containing:function(e){return e=decodeURIComponent(e),-1!==this.location.indexOf(e)||-1!==this.locationUrl.indexOf(e)},beginningWith:function(e){return e=e.replace(i,""),e=decodeURIComponent(e),this.location.substring(0,e.length)===e},isHomePage:function(){return n(this.canonicalUrl.replace(r,"").replace(a,"").replace(s,""))===n(this.homepage)},0:function(){return!0},1:function(){return this.isHomePage()},2:function(e){return this.matching(e)},3:function(e){return this.containing(e)},4:function(e){return this.beginningWith(e)},5:function(){return t.isMobile()},6:function(){return!t.isMobile()},shouldRenderOnPage:function(e){var t=!0,n=!1,r=[];return!e||(o.each(e,function(e){"string"==typeof e||e instanceof String?r.push(JSON.parse(e)):r.push(e)}),!(1!==r.length||!o.isEmpty(r[0]))||(o.any(r,{shown:1})&&(t=o.chain(r).where({shown:1}).map(c(this)).any("passed").value()),o.any(r,{shown:0})&&(n=o.chain(r).where({shown:0}).map(c(this)).any("passed").value()),t&&!n))}}),l}),define("apps/mediashare/query",["require","lodash","utils/DisplayRules","utils/dom","utils/globalObject","utils/utils"],function(e){var i,a,p=e("lodash"),s=e("utils/DisplayRules"),r=e("utils/dom"),d=e("utils/globalObject"),f=e("utils/utils"),t=["header#masthead",".header","#header","footer",".shareaholic-footer","#footer","aside",".sidebar","#sidebar",".comment"].join(","),o="shareaholic-media-target-hover-state",n=/gravatar/g,l=/pageview\.gif/g;function c(e){return!(!a.isPinterestShareablePage||r.parentMatches(e,t,"body, html")||i.ignore_links_to_other_images&&function(e){for(var t=e;null!==t&&!r.matches(t,"a");)t=t.parentElement;if(!t)return!1;var n=t.getAttribute("href");return/\.(gif|jpg|jpeg|png|webp|svg)$/i.test(n)}(e)||i.ignore_links_to_other_pages&&function(e){for(var t=e;null!==t&&!r.matches(t,"a");)t=t.parentElement;return!!t&&a.isOtherDomain(t.getAttribute("href"))}(e)||!function(e){var t=d.getComputedStyle(e),n=parseFloat(t.width),r=parseFloat(t.height);return!(n<80||r<80)&&!(n<120&&r<120)}(e)||function(e){var t=r.uiDOM("header");if(t)for(var n=e;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}(e)||"nopin"===e.getAttribute("nopin")||null!==e.getAttribute("data-pin-nopin")&&0<e.getAttribute("data-pin-nopin").length||l.test(e.getAttribute("src"))||n.test(e.getAttribute("src")))}function u(e,t){e.classList.remove(o),t.style.display="none"}function h(e,t,n){!function(e,t){var n=d.getComputedStyle(e),r=e.getBoundingClientRect();t.style.height=n.height,t.style.width=n.width,t.style.left=r.left+d.pageXOffset+"px",t.style.top=r.top+d.pageYOffset+"px"}(e,t);var r=d.getComputedStyle(e),o=p.get(n,"position","upper-left"),i=t.querySelector(".shareaholic-share-buttons-wrapper.shareaholic-ui");if(null!==i){var a=function(e,t,n){return f.calculatePositionInsideParent(e,t,n)}(i,t,o);i.style.top=a.top+"px",i.style.left=a.left+"px",i.style.pointerEvents="auto",i.style.position="absolute";var s=f.parseUnitAndAmount(p.get(n,"vertical_offset","")),l=s.amount,c=f.parseUnitAndAmount(p.get(n,"horizontal_offset","")),u=c.amount,h=f.parseUnitAndAmount(p.get(n,"icon_padding","")).amount;"%"===s.unit&&(l=l*parseFloat(r.height)/100),"%"===c.unit&&(u=u*parseFloat(e.width)/100),function(e,t,n,r,o,i,a){var s=0,l=0,c=d.getComputedStyle(t);if(0<=n.indexOf("lower")?l=-r:0<=n.indexOf("upper")&&(l=r),0<=n.indexOf("right")){var u=e.querySelectorAll("li"),h=d.getComputedStyle(u[0]),p=0;"horizontal"===a?(p=(parseFloat(h.width)+i)*u.length,0<=n.indexOf("lower")&&(e.style.top=parseFloat(c.height)-parseFloat(h.height)-r)):p=parseFloat(h.width),s=-o,e.style.left=parseFloat(c.width)-p}else 0<=n.indexOf("left")&&(s=o);e.style.transform="translate("+s+"px, "+l+"px)"}(i,e,o,l,u,h,n.orientation)}}function m(e,t){t.style.display="none",t.style.visibility="hidden";var n=r.getZindex(e);e.classList.add(o),"auto"===t.style.top&&(t.style.top="-1000px"),t.style.position="absolute",h(e,t,i),t.style.display="inline-block",t.style.zIndex=n}return function(e,t,n){var r={};if((i=t).demo)r={render:m,updateOffsets:h};else{a=n.getPageInfo();var o=new s(i.homepage,a.canonicalUrl);if(o.canCheckRules&&!o.shouldRenderOnPage(i.display_rules))return;r={targetSelector:"img",targetEnter:c,targetLeave:u,targetPosition:m}}return{type:"hover",appName:e,limit:1,canvasOptions:r}}}),define("apps/floatedshare/query",["require","lodash","utils/DisplayRules"],function(e){var r,o=e("lodash"),i=e("utils/DisplayRules");function a(e){return e.path&&(e.path=e.path.replace(/^\//,"")),{passed:r[e.condition](e.path)}}return function(e,t,n){if(!(r=new i(t.homepage,n.getPageInfo().canonicalUrl,n.getPageInfo().pageUrl.toString())).canCheckRules||function(e){var t=!0,n=!1,r=[];return!e||(o.each(e,function(e){r.push(JSON.parse(e))}),!(1!==r.length||!o.isEmpty(r[0]))||(o.any(r,{shown:1})&&(t=o.chain(r).where({shown:1}).map(a).any("passed").value()),o.any(r,{shown:0})&&(n=o.chain(r).where({shown:0}).map(a).any("passed").value()),t&&!n))}(t.display_rules))return{type:"app",appName:e}}}),define("analytics/ErrorLogger",["require","utils/settings","utils/globalObject","utils/logger"],function(e){var o=e("utils/settings"),t=e("utils/globalObject"),i=e("utils/logger").child({name:"ErrorLogger",color:"red"});function a(e){window.Raven&&window.Raven.captureException(e,{tags:{url:t.location.href}})}function n(e){var t="RequireJS Error: "+e.requireType+" "+e.message;if(e.requireModules&&e.requireModules.length&&(t+=" Modules: "+e.requireModules.join("\n")),i.log("RequireJS Error"),i.log(t),o.debug)throw e;a(e)}return{bindRequireJSError:function(){window.requirejs.onError=n},logException:function(e,t,n){var r="Level:"+e+" component:"+t;n&&(r+=" message:"+n.message),i.log("Logging error level: %s component: %s",e,t),i.error(r),o.debug||a(n)},error:function(e,t,n){var r=e+" "+t+" ";try{r+=JSON.stringify(n)}catch(e){r+=n}i.log("Logging error level: %s component: %s",e,t),i.error(r),o.debug||a(r)}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("deepmerge",t):(e=e||self).deepmerge=t()}(this,function(){"use strict";var o=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function a(e,t,n){return e.concat(t).map(function(e){return i(e,n)})}function e(e){return Object.keys(e).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}(e))}function s(t,n,r){var o={};return r.isMergeableObject(t)&&e(t).forEach(function(e){o[e]=i(t[e],r)}),e(n).forEach(function(e){r.isMergeableObject(n[e])&&t[e]?o[e]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"==typeof n?n:l}(e,r)(t[e],n[e],r):o[e]=i(n[e],r)}),o}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||o;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):s(e,t,n):i(t,n)}return l.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,t){return l(e,t,n)},{})},l}),define("utils/helperFunctions",["require","deepmerge"],function(e){return{merge:function(){for(var e,t=0;t<arguments.length;t++){var n=arguments[t];e=Array.isArray(n)?(e||[]).concat(n):Object.assign(e||{},n)}return e},transformObject:function(e,t){var n={};for(var r in e){if(!1===t(n,e[r],r))return n}return n},eachObject:function(e,t){for(var n in e){if(!1===t(e[n],n))return}},keys:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.keys(t)},deepMerge:e("deepmerge"),first:function(e){return(0<arguments.length&&void 0!==e?e:[])[0]},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},last:function(e){var t=0<arguments.length&&void 0!==e?e:[];return t.length?t[length-1]:void 0},slice:function(e,t,n){return e=e||[],Array.isArray(e)?e.slice(t,n):[]},tail:function(e){var t=0<arguments.length&&void 0!==e?e:[];return Array.isArray(t)?t.slice(1,t.length):[]},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return Array.isArray(e)}}}),define("utils/helper",[],function(){return{getCurrentDateEpochFormat:function(){return+new Date}}}),define("utils/trackVisitor",["require","./localStore","./helper","./globalObject","data/pageInfo"],function(e){"use strict";var n=e("./localStore"),o=e("./helper"),i=e("./globalObject"),a=e("data/pageInfo"),r="targeting",s="numberOfPageViews",l="numberOfSessions",c="firstVisit",u="lastVisit",h="currentExternalReferrer",p="originalExternalReferrer",d="currentSessionStartedAt",f="currentPageViews";return{_preProcessSiteID:function(e){return e="SHR:"+(e=""===(e=e||"default").trim()?"default":e)},_getDataUsingSiteID:function(e){e=this._preProcessSiteID(e);var t=n.getObject(e);return(t=t||{})[r]=t[r]||{},t[r][s]=t[r][s]||0,t[r][l]=t[r][l]||0,t[r][f]=t[r][f]||0,t[r][c]=t[r][c]||o.getCurrentDateEpochFormat(),t[r][u]=t[r][u]||o.getCurrentDateEpochFormat(),t[r][h]=t[r][h]||null,t[r]},_storeVisitorMetrics:function(e,t){return e=this._preProcessSiteID(e),n.setObject(e,{targeting:t})},_isNewSession:function(e){var t=new Date;return t.setMinutes(t.getMinutes()-30),e<+t},_getDomainFromURL:function(e){if(""===e.trim())return"";var t=document.createElement("a");return t.href=e,t.hostname},track:function(e){var t=this._getDataUsingSiteID(e);t[s]++,t[u]=o.getCurrentDateEpochFormat(),void 0!==t[d]&&!this._isNewSession(t[d])||(t[l]+=1,t[d]=o.getCurrentDateEpochFormat(),t[f]=0),t[f]++;var n=a.getPageInfo().referrer,r=i.document.location.hostname;return n.indexOf(r)<0&&(t[h]=n,t.currentExternalReferrerDomain=this._getDomainFromURL(n),t[p]=t[p]||t[h]),t.currentPageViewStartedAt=o.getCurrentDateEpochFormat(),this._storeVisitorMetrics(e,t),t},getVisitorMetrics:function(e){return this._getDataUsingSiteID(e)}}}),define("apps/partners/app",["require","utils/logger","utils/dom","utils/utils","utils/trackVisitor","utils/settings"],function(e){var s=e("utils/logger"),l=e("utils/dom"),c=e("utils/utils"),u=e("utils/trackVisitor"),r=e("utils/settings");function h(e,t){var n=function(e,t){var n={},r=t.pageUrl.toString(),o=t.canonicalUrl;if(r&&(n.location=r),o&&o!==r&&(n.canonical=o),"file:"===window.location.protocol.toString()){var i=new URL("https://"+e.domain).toString();n.location=i}return n}(e,t);return t.referrer&&(n.referrer=t.referrer),n.cl=t.lang,n.id_sync=r.uuid,n.minify="1",r.e_cookie_enc?n.ee=r.e_cookie_enc:r.e_enc?n.ee=r.e_enc:r.e_hash&&(n.e=r.e_hash),n}return s=s.child({name:"Partners",color:"#009900"}),{load:function(n,r){return new Promise(function(e,t){try{(function(e,t){var n=t.getPageInfo();if(e.enabled&&n.isShareable&&!c.isBot()&&!n.hasEmailAddressInURL&&n.isCurrentUrlHttpUrl){var r=h(e,n),o=u.getVisitorMetrics(e.apiKey);o.numberOfPageViews&&(r.pvs=o.numberOfPageViews),e.apiKey&&(r.site=e.apiKey);var i=new URL(e.partnersUrl);for(var a in r)i.searchParams.set(a,r[a]);i=i.toString(),l.loadScript(i,{id:"shr-partners",async:!0,preload:!1,context:"head"})}else s.log("Do not load Partners...")})(function(e){if(void 0===e.enabled)throw new Error("undefined enabled property");if(!e.partnersUrl)throw new Error("No partners url");return e}(n),r),e()}catch(e){s.error("Could not render partners: ",e),e.data=n,t(e)}})}}}),define("apps/index",["utils/logger","utils/profiler","data/publisherConfig","data/DataStore","apps/mediashare/query","apps/floatedshare/query","analytics/ErrorLogger","utils/settings","utils/utils","utils/helperFunctions","utils/globalObject","apps/partners/app"],function(u,l,h,e,t,n,c,p,d,f,m){function r(e){return{type:"app",appName:e}}var g={partners:{moduleId:"apps/partners/app",loadScript:!0},adminbadge:{moduleId:"apps/adminbadge/initial",loadScript:!0},affiliate_links:{moduleId:"apps/affiliatelinks/app",loadScript:!0},anchor_ad:{moduleId:"apps/anchorad/app",loadScript:!0},outstream_video_ad:{moduleId:"apps/outstreamvideoad/app",loadScript:!0},in_image_ad:{moduleId:"apps/inimagead/app",loadScript:!0},prompts:{moduleId:"apps/prompts/app",loadScript:!0},recommendations:{moduleId:"apps/recommendations/app",query:r},share_buttons:{moduleId:"apps/sharebuttons/app",query:r},follow_buttons:{moduleId:"apps/sharebuttons/app",query:r},cookie_consent:{moduleId:"apps/cookieconsent/app",query:r},shareable_images:{moduleId:"apps/sharebuttons/app",query:t},floated_share_buttons:{moduleId:"apps/sharebuttons/app",query:n},total_share_count:{moduleId:"apps/sharebuttons/app",query:r}},b={share:function(e,n,r,o,i,a){var s,t,l,c=e[0];if(c.api_key=c.api_key||"00000",2===e.length&&"string"==typeof e[1]&&(c.service=e[1]),3===e.length&&e[2].share_object_config&&(t=e[2].share_object_config,c.title=t.link_title,c.link=t.link,c.short_link=t.link,c.message_format=t.message_format,void 0!==t.image&&""!==t.image&&(c.image=t.image),void 0!==t.summary&&""!==t.summary&&(c.summary=t.summary)),c.short_link=c.short_link||c.link,u.log("Sharehandler invoked",c),null==c||null==c.service)return u.log("No service specified",c),(l=new TypeError("No service name specified")).data=c,n(l);s=h.getBookmarkletConfig(),window.require(["apps/sharebuttons/app"],function(t){s.then(function(e){t.renderBookmarklet(r,e,o,i,a).then(function(e){e.shareVia(c.service,c),n(null,e)},n)})})}};return u=u.child({name:"AppIndex",color:"silver"}),{startApp:function(n,r,o,i,a){var e=g[n],s=h.getConfigForCanvas(r);e?window.require([e.moduleId],function(t){l.logTime("Loaded app  "+n),s.then(function(e){l.logTime("Got config for "+n),function(e,t){l.logTime("Starting rendering app : "+n),e.render(r,t,o,i,a).then(function(t){if(l.logTime("Rendered app : "+n),p.debug&&t&&t.getDebugOutput){var e=m.document.createElement("div");e.setAttribute("class","shr-debug"),e.textContent="SHR DEBUG",r.root.insertAdjacentElement("afterend",e),e.addEventListener("click",function(){var e=t.getDebugOutput();d.openDebugWindow(e)})}}).catch(function(e){var t;c.logException("warn",n,e),p.debug&&(t='<h1 style="color:red;">'+(e&&e.message?e.message:e)+"</h1>",t+="<pre>"+JSON.stringify(e&&e.data?e.data:e,null,2)+"</pre>",r.root.innerHTML=t,e&&e.stack&&u.error(e.stack))})}(t,e)})}):u.log("unknown app "+n)},loadScript:function(t,n,r){var e=g[t];e?window.require([e.moduleId],function(e){l.logTime("Initialized Script App: "+t),e.load(n,r).catch(function(e){c.logException("warn",t,e),p.debug&&(e.message,JSON.stringify(e.data,null,2),u.error(e.stack))})}):u.log("unknown app "+t)},isScriptApp:function(e){return g[e]&&g[e].loadScript},queryForConfig:function(e,t,n){var r=g[e];return r?r.query?r.query(e,t,n):u.log("no query function for app %s",e):u.log("unknown app %s",e)},addPublicApiHandler:function(e,t,n,r,o,i,a){var s=e[t],l=function(i,a,s,l,e){var c=f.deepMerge.all([{},b,e]);return e=e||{},function(e){var t,n,r,o;if(Array.isArray(e)&&e.length&&(n=f.first(e),o=1<e.length&&f.isFunction(f.last(e))?(t=f.last(e),f.slice(e,1,e.length-1)):f.tail(e),f.isString(n)))return(r=c[n])?r(o,t,i,a,s,l):t(new TypeError("Unknown command type "+n));u.log("Invalid command object or Unknown type",e)}}(n,r,o,i,a),c=[];f.isArray(s)?(c=c.concat(s),s=null):s&&(c=s.commands,s.push=l),null==s&&(s={push:l}),c.forEach(l),e[t]=s}}}),define("utils/featureDetect",[],function(){var e,t=!1;return window.addEventListener("touchstart",function e(){t=!0,window.removeEventListener("touchstart",e,!1)},!1),{localStorage:function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),flexBox:(e=document.documentElement.style,"flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e),touch:function(){return t},sessionStorage:function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}()}}),function(s){var e,p,l="data-shr-assetbase",c={dev:"//spreadaholic.com:5200/app/client/public/js/",stage:"https://i4f4x8r4.stackpathcdn.com/v2/",production:"https://k4z6w9b5.stackpathcdn.com/v2/"},u="shrMain.min.js",h=/shareaholic\.js/,d="Shareaholic",r=/MSIE 9\./,f="<%= codeShaId %>",m="<%= fontsShaId %>",g="<%= imagesShaId %>",o={dev:"https://www.stageaholic.com/publisher_tools",stage:"https://grace.stageaholic.com/config",production:"https://www.shareaholic.net/config"},b={},t=window.SHR_NAMESPACE||d;function i(e,t){var n;"Microsoft Internet Explorer"===s.navigator.appName&&r.test(s.navigator.userAgent)&&s.XDomainRequest?(n=new s.XDomainRequest).open("GET",e):(n=new XMLHttpRequest).open("GET",e,!0),n.ontimeout=function(){t(new Error("Timeout getting publisher config"))},n.onerror=function(){t(new Error("Error getting publisher config"))},n.onprogress=function(){},n.onload=function(){var e={};try{(e=JSON.parse(n.responseText)).x_client_geo_latlong=n.getResponseHeader("x-client-geo-latlong"),e.x_client_geo_country=n.getResponseHeader("x-client-geo-country"),e.x_client_geo_city=n.getResponseHeader("x-client-geo-city"),e.x_client_geo_zip=n.getResponseHeader("x-client-geo-zip"),e.x_client_geo_region=n.getResponseHeader("x-client-geo-region"),e.x_client_geo_metrocode=n.getResponseHeader("x-client-geo-metrocode")}catch(e){return t(new Error("Error parsing responseText "+e.message))}t(null,e)},setTimeout(function(){n.send()},0)}function _(e,t,n){t=t||"00000";var r=o[e];if(!r)return n(new Error("Missing config endpoint for environment "+e));i(r+="/"+t+".json",n)}function v(e,t){e.document.body?t():setTimeout(function(){v(e,t)},10)}function y(l,c,e,u,t){u=u||function(){};var h=l.document.createElement("iframe"),n="SHR-"+Math.round(1e3*Math.random())+1;return h.id=n,h.onload=function(){var r=h.contentWindow,e=r.document,o=e.head,t=b.environment||"production",n="production"===t?.05:1,i="production"===t?.2:1,a="";if(!/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/gi.test(l.navigator.userAgent)&&Math.random()<i){a="  window.SENTRY_SDK = {    url: 'https://cdn.ravenjs.com/3.26.4/raven.min.js',    dsn: \"https://65156d2850a2480086d4f28a20d8208e@sentry.shareaholic.com/12\",    options: {      sampleRate: "+n+',      release: "'+f+'",      environment: "'+t+'",      tags: {url: "'+l.location.href+'"}    }  }  ;(function(a,b,g,e,h){var k=a.SENTRY_SDK,f=function(a){f.data.push(a)};f.data=[];var l=a[e];a[e]=function(c,b,e,d,h){f({e:[].slice.call(arguments)});l&&l.apply(a,arguments)};var m=a[h];a[h]=function(c){f({p:c.reason});m&&m.apply(a,arguments)};var n=b.getElementsByTagName(g)[0];b=b.createElement(g);b.src=k.url;b.crossorigin="anonymous";b.addEventListener("load",function(){try{a[e]=l;a[h]=m;var c=f.data,b=a.Raven;b.config(k.dsn,k.options).install();var g=a[e];if(c.length)for(var d=0;d<c.length;d++)c[d].e?g.apply(b.TraceKit,c[d].e):c[d].p&&b.captureException(c[d].p)}catch(p){console.log(p)}});n.parentNode.insertBefore(b,n)})(window,document,"script","onerror","onunhandledrejection");';var s=e.createElement("script");s.textContent=a,e.body.appendChild(s)}setTimeout(function(){p&&c.push({text:'window.settings.siteid="'+p+'";'});for(var e=0;e<c.length;e++){var t=c[e],n=r.document.createElement("script");t.text?n.text=t.text:t.src&&(n.src=t.src,n.async="true"),o.appendChild(n)}setTimeout(u.bind(null,r),100),h.dataset.loaded="YES"},1)},t?t(h):(h.style.display="none",h.frameBorder="0"),e.appendChild(h),h}function w(e){var t=e.environment||"production";return e.bookmarklet||function(){var e=null;try{e=localStorage.getItem("SHR_LOCAL")}catch(e){}return e}()?e.assetbase:/[0-9a-f]{5,40}/.test(f)?(e.assetbase||c[t])+f+"/":e.assetbase||c[t]}function x(e){var t=/^data-shr-/,n={};if(e)for(var r,o=0,i=e.attributes,a=i.length;o<a;o++)r=i[o],t.test(r.nodeName)&&(n[r.nodeName.replace(t,"")]=r.value);return n.entrypoint=n.entrypoint||u,n.namespace=n.namespace||d,n.fontbase=function(e){var t=e.environment||"production",n=e.assetbase||c[t];return e.fontbase&&"undefined"!==e.fontbase?n=e.fontbase:/[0-9a-f]{8}/.test(m)?n+="fonts_"+m+"/":n+="fonts/",n}(n),n.imagebase=function(e){var t=e.environment||"production",n=e.assetbase||c[t];return e.imagebase&&"undefined"!==e.imagebase?n=e.imagebase:/[0-9a-f]{8}/.test(g)?n+="images_"+g+"/":n+="images/",n}(n),n.assetbase=w(n),n}function S(e,t){var n,r={};function o(t,n,r){t[n]=function(){var e=Array.prototype.slice.call(arguments);t.push(r.concat(e)),t[n].args=e}}if(!function(){var e,t=!0;return"Microsoft Internet Explorer"===navigator.appName&&(e=navigator.userAgent,null!=new RegExp("MSIE ([5-8]{1,}[.0-8]{0,})").exec(e)&&(t=!1)),t}())return{err:"NOT SUPPORTED"};if(!(b=t||((n=function(){for(var e,t,n=s.document.getElementsByTagName("script"),r=n.length;r--;){if((t=n[r]).hasAttribute(l))return t;h.test(t.src)&&(e=t)}return e}())&&n.parentNode.removeChild(n),x(n))).assetbase)return{err:"NO ASSET BASE CONFIGURED"};var i=[{text:"window.SHR_FRAME = true;"},{text:"window.settings = "+JSON.stringify(b)+";"},{src:b.assetbase+b.entrypoint||"shrMain.min.js"}],a=e.document.createElement("link");return a.href=b.assetbase+b.entrypoint||"shrMain.min.js",a.rel="preload",a.as="script",a.crossOrigin="anonymous",e.document.head.appendChild(a),b.namespace===d&&(void 0===e.Shareaholic&&(e.Shareaholic=function(){}),e.Shareaholic.prototype.Bookmarklet=!0,e.Shareaholic.isV2=!0,e.Shareaholic.getPublisherConfig=_,o(e.Shareaholic,"init",["init"]),o(e.Shareaholic,"init_bookmarklet",["share",{service:"all"}]),function(e,t){var r=e.init;function n(n){_(t.environment||"production",n,function(e,t){s.publisherConfigLoaded=!0,r(n,t||{})}),e.init=function(){},p=n}t.siteid?n(t.siteid):e.init=n}(e.Shareaholic,b),r=e.Shareaholic),void 0===r.commands&&(r.commands=[]),void 0===r.push&&(r.push=function(e){r.commands.push(e)}),function(e){var t,n,r=!1;try{t=JSON.parse(localStorage.getItem("SHR_V2_OVERRIDES"))}catch(e){}return t&&t.script&&!window.SHR_OVERRIDE_MODE&&((n=document.createElement("script")).setAttribute("data-shr-assetbase",t.script.assetbase),n.setAttribute("data-shr-imagebase",t.script.imagebase),n.setAttribute("data-shr-fontbase",t.script.fontbase),n.setAttribute("data-shr-entrypoint",t.script.entrypoint),n.src=t.script.src,window.SHR_OVERRIDE_MODE=!0,v(e,function(){e.publisherConfigLoaded=!0,e.document.body.appendChild(n)}),r=!0),r}(e)?r.override=!0:v(e,function(){!function(t,n){var r=setInterval(function(){var e=document.getElementById(t);e.attributes["data-loaded"]&&"YES"===e.attributes["data-loaded"].nodeValue&&(e.contentWindow.SHR_FRAME||(clearInterval(r),e.parentNode.removeChild(e),S(s,n)))},1500)}(y(e,i,e.document.body).id,b)}),r}if(s.publisherConfigLoaded=s.publisherConfigLoaded||!1,s.SHR_FRAME&&"function"==typeof define&&define.amd)define("iframe",[],function(){return y});else{if((e=S(s)).err)return console.log("Unable to boot Shareaholic: "+e.err+". You can contact Shareaholic support for help at https://www.shareaholic.com/help/message");t=b.namespace||t,"[object Array]"===Object.prototype.toString.call(s[t])?(e.commands=s[t],s[t]=e):s[t]=s[t]||e}}(this),define("utils/hacks",["require","utils/globalObject","lodash"],function(e){var n=e("utils/globalObject"),r=e("lodash"),o=/(iphone|ipad|ipod)/gi;return{iosScrollFix:function(){var e,t={start:r.noop,stop:r.noop};return o.test(n.navigator.userAgent)&&(t={start:function(){0<(e=n.document.body.scrollTop)&&(n.document.body.scrollTop=0)},stop:function(){null!=e&&(n.document.body.scrollTop=e,e=null)}}),t}}}),define("canvas/ModalCanvas",["require","lodash","canvas/Canvas"],function(e){var o=e("lodash"),i=e("canvas/Canvas");function t(e,t){var n=this;function r(){return n._isAlive}i.apply(this,arguments),this._onDestroy=o.noop,this._isAlive=!0,this._notifyProducerClose=t.onClose,this._notifyProducerShow=t.onShow,this._notifyConsumerRequestClose=this.close,this.resizeStream=this.resizeStream.takeWhile(r),this.scrollStream=this.scrollStream.takeWhile(r)}return t.prototype=Object.create(i.prototype),o.assign(t.prototype,{constructor:t,_destroy:function(){this._onDestroy(),this.root.innerHTML="",this.root=void 0,this._notifyProducerClose=void 0,this._notifyProducerShow=void 0,this._isAlive=!1},requestClose:function(){this._notifyConsumerRequestClose()},show:function(){this._notifyProducerShow()},close:function(){this._emitter.emit("close"),this._notifyProducerClose()},onRequestClose:function(e){this._notifyConsumerRequestClose=e},onDestroy:function(e){this._onDestroy=e},enableHoveringMode:function(){}}),t}),define("text",[],function(){"use strict";return{version:"1.0.0",pluginBuilder:"requireText",load:function(e,t,n,r){var o;if(r&&r.isBuild)throw new Error("Do not use SHR text plugin during build!");0!==(o=t.toUrl(e+".js")).indexOf("empty:")?t([o],function(e){n(e)}):n()}}}),define("text!modal/standardModal.html",[],function(){return'<div class="shareaholic-standard-modal">\n  <div class="shareaholic-header">\n    <h3 class="title"></h3>\n    <i class="shareaholic-button fa fa-close shareaholic-close">&nbsp;</i>\n  </div>\n  <div class="shareaholic-content"></div>\n  <div class="shareaholic-footer">\n    <a class="shareaholic-logo" href="https://www.shareaholic.com" target="_blank"></a>\n    <a class="shareaholic-privacy" href="https://www.shareaholic.com/privacy" target="_blank">Privacy</a>\n  </div>\n</div>\n'}),define("text!css/modal.css",[],function(){return'\nhtml{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\nhtml{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type="checkbox"],input[type="radio"]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:0}input[type="number"]::-webkit-inner-spin-button,input[type="number"]::-webkit-outer-spin-button{height:auto}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid #c0c0c0;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}\n.shareaholic-whirl {\n  position: relative;\n}\n.shareaholic-whirl:before {\n  content: "";\n  z-index: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #999999;\n  opacity: 0.6;\n}\n.shareaholic-whirl:after {\n  z-index: 2;\n  content: "";\n  height: 40px;\n  width: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -20px 0 0 -20px;\n  -webkit-transition: all .75s ease 0s;\n  transition: all .75s ease 0s;\n  border-radius: 100%;\n  border-top: 4px solid #555555;\n  -webkit-animation: standard .75s infinite linear;\n  animation: standard .75s infinite linear;\n  -webkit-transform-origin: center;\n  -ms-transform-origin: center;\n  transform-origin: center;\n}\n.shareaholic-whirl.shareaholic-traditional:after {\n  border-right: 4px solid #777777;\n  border-top: 4px solid #777777;\n  border-left: 4px solid #999999;\n  border-bottom: 4px solid #bbbbbb;\n}\nhtml,body{width:100%;height:100%;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:#000}*,*:before,*:after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}.shareaholic-canvasRoot{height:100%;overflow:hidden;position:absolute;top:-100%;width:100%;-webkit-transition:top 500ms;-moz-transition:top 500ms;-o-transition:top 500ms;-ms-transition:top 500ms;transition:top 500ms;-webkit-transition-timing-function:cubic-bezier(0,1,.5,1);-moz-transition-timing-function:cubic-bezier(0,1,.5,1);-o-transition-timing-function:cubic-bezier(0,1,.5,1);-ms-transition-timing-function:cubic-bezier(0,1,.5,1);transition-timing-function:cubic-bezier(0,1,.5,1);}.shareaholic-canvasRoot .shareaholic-standard-modal .shareaholic-content{height:auto}.shareaholic-canvasRoot.shareaholic-show{top:0}.shareaholic-canvasSpinner{display:none;position:fixed;top:0;left:0;width:100%;height:100%;}.shareaholic-canvasSpinner.shareaholic-whirl:before{background:transparent}.shareaholic-canvasSpinner.shareaholic-show{display:inherit}.shareaholic-standard-modal{font-family:\'helvetica neue\',arial,helvetica,sans-serif;color:#555;min-height:300px;height:380px;background:transparent;max-width:600px;min-width:300px;margin:0 auto 5px;border-radius:5px;position:relative;}.shareaholic-standard-modal.shareaholic-show{top:10%;}@media only screen and (max-width:600px){.shareaholic-standard-modal.shareaholic-show{position:absolute;top:0;bottom:0;left:0;right:0}}.shareaholic-standard-modal.shareaholic-medium-height{max-height:500px;}@media only screen and (max-width:600px){.shareaholic-standard-modal.shareaholic-medium-height{max-height:none}}.shareaholic-standard-modal a{color:#555;text-decoration:none}.shareaholic-standard-modal .shareaholic-header,.shareaholic-standard-modal .shareaholic-footer{font-size:12px;line-height:1.2;height:35px;background:#f5f5f5}.shareaholic-standard-modal .shareaholic-header{border-top:1px solid #d7d7d7;padding-left:10px;border-radius:5px 5px 0 0;text-align:center;}.shareaholic-standard-modal .shareaholic-header h3{display:inline-block;margin:9px 0}.shareaholic-standard-modal .shareaholic-header .shareaholic-widget{position:absolute;top:0;height:35px;right:45px}.shareaholic-standard-modal .shareaholic-header .shareaholic-button span{font-size:13px;position:relative;top:-1px}.shareaholic-standard-modal .shareaholic-header .shareaholic-button{position:absolute;top:0;height:35px;-webkit-box-shadow:inset 1px 0 0 rgba(255,255,255,0.5);box-shadow:inset 1px 0 0 rgba(255,255,255,0.5);font-size:20px;line-height:35px;padding:0 11px;}.shareaholic-standard-modal .shareaholic-header .shareaholic-button:hover{background:#eee;cursor:pointer}.shareaholic-standard-modal .shareaholic-header .shareaholic-close{right:0;cursor:pointer;border-left:1px solid #eee;border-radius:0 5px 0 0}.shareaholic-standard-modal .shareaholic-header .shareaholic-back{left:0;border-right:1px solid #ddd;border-radius:5px 0 0 0;width:65px;}.shareaholic-standard-modal .shareaholic-header .shareaholic-back span{margin-left:5px}.shareaholic-standard-modal .shareaholic-footer{height:44px;padding:16px 18px 0 18px;border-bottom:1px solid #d7d7d7;border-radius:0 0 5px 5px;width:100%;}.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;float:left;margin-top:-3px;background:url("<%= imagebase(\'logo_20px.png\') %>") 0 0 no-repeat;width:95px;height:20px;}@media only screen and (min-resolution:1.5dppx),only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-resolution:144dpi){.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{margin-top:-2px;background:url("<%= imagebase(\'logo_32px.png\') %>") 0 0 no-repeat;-webkit-background-size:95px 18px;-moz-background-size:95px 18px;background-size:95px 18px}}@media only screen and (max-width:600px){.shareaholic-standard-modal .shareaholic-footer .shareaholic-logo{width:20px}}.shareaholic-standard-modal .shareaholic-footer .shareaholic-privacy{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;float:right}.shareaholic-standard-modal .spacer{height:100%;padding-bottom:79px}.shareaholic-standard-modal .shareaholic-content{padding:5px 18px;overflow-y:auto;-webkit-overflow-scrolling:touch;background:#fff;height:100%;}.shareaholic-standard-modal .shareaholic-content.shareaholic-no-scroll{overflow-y:hidden}.shareaholic-flexbox .shareaholic-standard-modal{display:-webkit-box;display:-moz-box;display:-webkit-flex;display:-ms-flexbox;display:box;display:flex;-webkit-box-orient:vertical;-moz-box-orient:vertical;-o-box-orient:vertical;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(90% - 5px);}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-header{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0 35px;-ms-flex:0 0 35px;flex:0 0 35px}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-footer{-webkit-box-flex:1;-moz-box-flex:1;-o-box-flex:1;box-flex:1;-webkit-flex:0 0 44px;-ms-flex:0 0 44px;flex:0 0 44px;-ms-flex-preferred-size:30px}.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-content{height:auto;}@media only screen and (max-width:600px){.shareaholic-flexbox .shareaholic-standard-modal .shareaholic-content{height:100%}}@media only screen and (max-width:600px){.shareaholic-flexbox .shareaholic-standard-modal{height:100%}}'}),define("modal/ModalController",["require","most","lodash","utils/featureDetect","utils/dom","utils/globalObject","iframe","utils/settings","utils/hacks","utils/utils","canvas/ModalCanvas","text!./standardModal.html","text!css/modal.css"],function(e){var r=e("most"),o=e("lodash"),t=e("utils/featureDetect"),a=e("utils/dom"),i=e("utils/globalObject"),s=e("iframe"),l=e("utils/settings"),n=e("utils/hacks"),c=e("utils/utils"),u=e("canvas/ModalCanvas"),h=e("text!./standardModal.html"),p=e("text!css/modal.css"),d=["//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css"],f=n.iosScrollFix();function m(e,t,n){n=n||{},o.defaults(n,{resizeStream:r.never(),scrollStream:r.never(),assetbase:l.assetbase}),this._root=e,this._iframe=t,this._document=i.document,this._locked=!1,this._pendingRequests=[],this._resizeStream=n.resizeStream,this._scrollStream=n.scrollStream,this._assetbase=n.assetbase,this._iframeBody,this._modalFrame,this._canvasRoot,this._canvasSpinner,this._onKeyup=this._onKeyup.bind(this),this._onClick=this._onClick.bind(this)}return m.prototype={_loadCDNStyles:function(n){var r=this;o.each(d,function(e){if(null===n.querySelector('[href="'+e+'"]')){var t=r._document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),n.appendChild(t)}})},_addFeatureStyles:function(e){t.flexBox&&e.classList.add("shareaholic-flexbox"),t.touch()&&e.classList.add("shareaholic-touchable")},_getIframe:function(t){var n,r=this;return this._iframe?Promise.resolve(this._iframe):new Promise(function(e){n=s(i,"",t,function(){r._iframe=n,e(r._iframe)})})},_getCanvasRoot:function(){var o=this;if(this._canvasRoot&&(this._canvasRoot.parentNode.removeChild(this._canvasRoot),this._canvasRoot=null),void 0===this._modalFrame){this._modalFrame=this._document.createElement("div");var i={visibility:"hidden",opacity:0,position:"fixed",width:"100%","z-index":1e7,background:"rgba(0,0,0,0.5)",top:0,left:0,right:0,bottom:0,overflow:"hidden"};for(var e in i){var t=i[e];this._modalFrame.style[e]=t}}return this._root.appendChild(this._modalFrame),this._modalFrame.classList.add("shareaholic_panel","shareaholic-ui"),this._getIframe(this._modalFrame).then(function(r){return new Promise(function(e){for(var t in o._iframeBody=r.contentWindow.document.body,o._addFeatureStyles(o._iframeBody),o._loadCDNStyles(o._iframeBody),a.ensureStyles("modalstyles",p,o._iframeBody),i={"z-index":2147483646,position:"fixed",width:"100%",height:"100%",top:0,left:0,right:0,bottom:0,overflow:"scroll"}){var n=i[t];r.style[t]=n}c.addAccessibilityListener(r.contentWindow.document),o._canvasRoot=o._document.createElement("div"),o._canvasRoot.setAttribute("id","canvasRoot"),o._canvasRoot.setAttribute("class","shareaholic-canvasRoot"),void 0===o._canvasSpinner&&(o._canvasSpinner=o._document.createElement("div"),o._canvasSpinner.setAttribute("id","canvasSpinner"),o._canvasSpinner.setAttribute("class","shareaholic-canvasSpinner shareaholic-whirl shareaholic-traditional")),o._iframeBody.appendChild(o._canvasSpinner),o._iframeBody.appendChild(o._canvasRoot),r.style.display="",o._hideModalContent(),setTimeout(function(){e(o._canvasRoot)},1)})})},_renderNextModal:function(){var e=this._pendingRequests.pop();e?e.resolve(this._generateCanvas()):(this._locked=!1,this._hideModalFrame())},_hideModalFrame:function(){this._iframeBody.removeEventListener("keyup",this._onKeyup),this._iframeBody.removeEventListener("click",this._onClick);for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.remove("shareaholic-medium-height");this._modalFrame.style.opacity="0",this._modalFrame.style.visibility="hidden",this._iframe.style.display="none"},_showModalFrame:function(){this._iframeBody.addEventListener("keyup",this._onKeyup),this._iframeBody.addEventListener("click",this._onClick),this._modalFrame.style.opacity="1",this._modalFrame.style.visibility="visible",this._iframe.style.display=""},_onKeyup:function(e){27===e.keyCode&&this._canvas.requestClose()},_onClick:function(e){for(var t=e.target,n=t,r=!1;null!==n;){if(n===this._canvasRoot){r=!0;break}n=n.parentElement}r&&!t.classList.contains("shareaholic-close")||this._canvas.requestClose()},_showModalContent:function(){f.start(),this._canvasSpinner.classList.remove("shareaholic-show"),this._canvasRoot.classList.add("shareaholic-show");for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.add("shareaholic-show")},_hideModalContent:function(){f.stop();for(var e=this._iframeBody.querySelectorAll(".shareaholic-standard-modal"),t=0;t<e.length;t++)e[t].classList.remove("shareaholic-show");this._canvasRoot.classList.remove("shareaholic-show"),this._canvasSpinner.classList.add("shareaholic-show")},_generateCanvas:function(){var t=this;return this._getCanvasRoot().then(function(e){return t._canvas=new u(e,{resizeStream:this._resizeStream,scrollStream:this._scrollStream,onClose:function(){t._hideModalContent(),t._hideModalFrame(),t._canvas._destroy(),t._renderNextModal(),t=void 0},onShow:function(){t._showModalContent()}}),t._showModalFrame(),new Promise(function(e){return setTimeout(function(){return e(t._canvas)},100)})})},requestCanvas:function(){var t={};if(!this._locked)return this._locked=!0,this._generateCanvas();var e=new Promise(function(e){return t.resolve=e});return this._pendingRequests.push(t),e},requestBorderCanvas:function(o,i){return i=i||{},this.requestCanvas().then(function(e){var t,n,r=e.root;if(o=o||"",r.innerHTML=h,"medium"===i.height)for(t=r.querySelectorAll(".shareaholic-standard-modal"),n=0;n<t.length;n++)t[n].classList.add("shareaholic-medium-height");if(i.noScroll)for(t=r.querySelectorAll(".shareaholic-standard-modal .shareaholic-content"),n=0;n<t.length;n++)t[n].classList.add("shareaholic-no-scroll");else for(t=r.querySelectorAll(".shareaholic-standard-modal .shareaholic-content"),n=0;n<t.length;n++)t[n].classList.remove("shareaholic-no-scroll");return i.entireModal?e.root=r:e.root=r.querySelector(".shareaholic-content"),r.querySelector(".title").textContent=o,e})}},m}),define("data/SettingsScraper",["require","lodash"],function(e){var o=e("lodash"),i=/^\s.+\{"apps":\{"share_buttons":\{"get_share_counts"/m,a=/^\s+Shareaholic\.Utils\.ajax\(\{(?:\r|\n|.)+\}\)$/m,s=/^\s+url: '(.+)',/gm,l=/^\s+data: \{ action: '(.+)', .+$/gm;return{getShareCountEndpoint:function(e){var n,t=e.querySelectorAll("script:not([src])");function r(e){var t,n;if(i.test(e))return t=a.exec(e),a.lastIndex=0,t&&(n=function(e){var t,n,r="";if(e)return t=s.exec(e),s.lastIndex=0,t&&2===t.length&&(r=t[1]),t=l.exec(e),l.lastIndex=0,t&&2===t.length&&(n=t[1]),(r=r&&new URL(r))&&n&&(r.search="",r.searchParams.set("action",n)),r.toString()}(t[0])),n}return o.find(t,function(e){var t=e.innerHTML;return n=r(t)}),n}}}),define("utils/TrackURL",["require","data/pageInfo"],function(e){var t,n,r,o=e("data/pageInfo"),i=[];function a(){var e=o.getPageInfo().canonicalUrl;e!==t?(clearTimeout(r),t=e,i.forEach(function(e){return e()})):(r&&clearTimeout(r),r=setTimeout(a,250))}return{trackURL:function(e){i.length||(n=window.parent.location.href,t=o.getPageCanonicalUrl().toString(),setInterval(function(){window.parent.location.href!==n&&(n=window.parent.location.href,a())},500)),i.push(e)}}}),define("utils/shrFetch",[],function(){function i(){_classCallCheck(this,i)}function a(e){_classCallCheck(this,a),this.response=e}function e(e,t,n){var r,o=fetch(e,t);n&&(o=Promise.race([o.then(function(e){return clearTimeout(r),e}),new Promise(function(e,t){r=setTimeout(function(){clearTimeout(r),t(new i)},n)})]));return o.then(function(e){if(e.ok)return e;throw new a(e)})}return e.TimeoutError=i,e.ResponseError=a,e}),define("data/providers/pageview",["require","utils/shrFetch","utils/logger"],function(e){var o=e("utils/shrFetch"),i=e("utils/logger").child({name:"pageview provider",color:"blue"});return function(t){var e=t.url.replace("[[CACHEBUSTER]]",Math.floor(1e10*Math.random()));if(navigator.sendBeacon){var n=Object.keys(t.query||{}).map(function(e){return e+"="+encodeURIComponent(t.query[e])}).join("&"),r=new Blob([n],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(e,r)}else o(e,{credentials:"include"}).then(function(){return i.log("We just fired the pixel.")}).catch(function(){return i.log("Error firing PV pixel")});return!0}}),define("analytics/Analytics",["require","utils/dom","utils/logger","utils/globalObject","utils/settings","data/pageInfo","utils/trackVisitor","lodash","data/DataStore","data/providers/pageview"],function(e){var t=e("utils/dom"),s=e("utils/logger"),a=e("utils/globalObject"),l=e("utils/settings"),c=e("data/pageInfo"),u=e("utils/trackVisitor"),n=e("lodash"),r=a.location.protocol;function h(t){t.u;var n,e=l.endpoints.go;return(t=Object.assign({a:1,r:1,u:""},t)).u,(n=new URL(e)).protocol=r,Object.keys(t).forEach(function(e){void 0!==t[e]&&null!==t[e]&&n.searchParams.set(e,t[e])}),n.toString()}function o(e,t){t=Object.assign({allowAnalytics:!0},t),this.allowAnalytics=t.allowAnalytics,this.allowAnalytics&&(this._gaTracker=e,this._gaTracker.init())}return e("data/DataStore").register("pageview",e("data/providers/pageview")),s=s.child({name:"Analytics",color:"#216C2A"}),o.prototype={firePixel:function(e){t.appendPixel(e)},_runTracker:function(){var e=Array.prototype.slice.call(arguments);if(this.allowAnalytics&&this._gaTracker&&e.length){var t=e[0];this._gaTracker[t].apply(this._gaTracker,n.rest(e))}},recommendationClick:function(e,t,n,r){var o=r?"spc":"rc";return this.adClick(e,t,n,r,o)},adImpression:function(e,t,n,r,o,i){s.log("ad impression",arguments);var a=h({a:7,r:2,p:t,c:r,o:n,u:e,channel:o||"default"});return i||this.firePixel(a),a},adClick:function(e,t,n,r,o){s.log("ad click url: %s, plan: %s, content: %s, campaign: %s",e,t,n,r);var i={a:4,r:r?3:1,p:t,c:r,o:n,u:e,channel:o||"default"};return"display"===o?this._runTracker("usage","Display Ad","Click Display Ad Link",a.location.host):r?this._runTracker("usage","Recommendations_v2","Click Sponsored Recommendation Link",a.location.host):this._runTracker("usage","Recommendations_v2","Click Organic Recommendation Link",a.location.host),h(i)},recommendationImpression:function(e,t,n,r,o){var i=r?"spc":"rc";return this.adImpression(e,t,n,r,i,o)},recommendationImpressionTotals:function(e,t){s.log("Logging impression totals organic: %s sponsored %s",e,t),this._runTracker("usage","Recommendations_v2","Display Sponsored Recommendation Links",a.location.host,t),this._runTracker("usage","Recommendations_v2","Display Organic Recommendation Links",a.location.host,e)},recommendationView:function(e,t,n,r,o){s.log("recommendation view",arguments);var i=h({a:11,r:2,p:t,c:r,u:e,o:n});return o||this.firePixel(i),i},shareClick:function(e,t){this._gaTracker&&(this._gaTracker.socialInteraction(e,t),this.shareComplete())},_fireSHRPageView:function(e){if(!this.allowAnalytics||c.isPreviewPage())return!1;var t=c.getPageInfo(),n=t.canonicalUrl,r=t.lang,o=u.getVisitorMetrics(l.apiKey),i={},a=new URL(l.endpoints.analytics_pageview);return i.a=8,i.id_sync=l.uuid,i.referrer=t.referrer,n&&(i.canon=n),void 0!==r&&(i.cl=r),(l.e_cookie_enc||l.e_enc)&&(i.ee=l.e_cookie_enc||l.e_enc),!i.ee&&l.e_hash&&(i.e=l.e_hash),l.siteid&&(i.site=l.siteid),o.numberOfPageViews&&(i.pvs=o.numberOfPageViews),navigator.sendBeacon||(Object.keys(i).forEach(function(e){return a.searchParams.set(e,i[e])}),i={}),e.get({type:"pageview",url:a.toString(),query:i})},pageView:function(e){var t=c.getPageInfo();if(a.Shareaholic&&a.Shareaholic.isV2&&!t.hasEmailAddressInURL){s.log("pageview");var n=this._fireSHRPageView(e);return this._runTracker("pageView"),n}},shareComplete:function(){s.log("Share Complete"),this._runTracker("shareComplete",a.location.host)},postShareShown:function(){s.log("Post Share Dialog Shown"),this._runTracker("postShareShown",a.location.host)}},o}),define("analytics/Google",["require","utils/globalObject","utils/dom","utils/settings","utils/logger"],function(e){var t,o,n,r,i=e("utils/globalObject"),a=e("utils/dom"),s=e("utils/settings"),l=e("utils/logger"),c="analytics.js",u={};function h(t,e){var n=e.name,r=e.id,o=e.settings||{};if(t=o.name||t,!r||!t)throw new TypeError("Missing required fields for GA tracker "+n);return l.log("creating tracker %s id: %s UA: %s",n,t,r),o.name=t,i.__shrTracker("create",r,o),i.__shrTracker(o.name+".set","useBeacon",!0),function(){var e=Array.prototype.slice.call(arguments);e[0]=t+"."+e[0],i.__shrTracker.apply(i.__shrTracker,e)}}return l=l.child({name:"ga",color:"#156aeb"}),s.debug&&(c="analytics_debug.js"),{init:(r=!1,function(){r||(r=!0,i.__shrTracker||(l.log("initializing Google Analytics"),function(e){var t=e.GoogleAnalyticsObject?e[e.GoogleAnalyticsObject]:null;if(t)e.__shrTracker=t;else{var n="";"file:"===e.location.protocol.toString()&&(n="https:");var r="(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','"+n+"//www.google-analytics.com/"+c+"','__shrTracker');";s.google_analytics.trace&&(e.ga_debug=e.ga_debug||{},e.ga_debug.trace=!0),a.appendScriptTag(r)}e.__shrTracker}(i)),function(){var e=s.google_analytics.trackers;h("shr",e.shr),t=l.log,o=l.log,n=h("shr_post_share",e.shr_post_share)}())}),createTracker:function(e,t,n){"social"===e?t in u?l.log(t+" already created"):u[t]=h(t,n):l.log("unsupported tracker type "+e)},usage:function(e,t,n,r){o("send","event",e,t,n,r)},pageView:function(){t("send","pageview",{page:i.location.hostname})},socialInteraction:function(t,n){Object.keys(u).forEach(function(e){(0,u[e])("send","social",t,"share",n)})},shareComplete:function(e){n("send","event","share","click share button",e)},postShareShown:function(e){n("send","event","share","open post-share dialog",e)}}}),define("utils/rsa/jsbn",[],function(){var e;function v(e,t,n){null!==e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function y(){return new v(null)}e="Microsoft Internet Explorer"===navigator.appName?(v.prototype.am=function(e,t,n,r,o,i){for(var a=32767&t,s=t>>15;0<=--i;){var l=32767&this[e],c=this[e++]>>15,u=s*l+c*a;o=((l=a*l+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+s*c+(o>>>30),n[r++]=1073741823&l}return o},30):"Netscape"!==navigator.appName?(v.prototype.am=function(e,t,n,r,o,i){for(;0<=--i;){var a=t*this[e++]+n[r]+o;o=Math.floor(a/67108864),n[r++]=67108863&a}return o},26):(v.prototype.am=function(e,t,n,r,o,i){for(var a=16383&t,s=t>>14;0<=--i;){var l=16383&this[e],c=this[e++]>>14,u=s*l+c*a;o=((l=a*l+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+s*c,n[r++]=268435455&l}return o},28),v.prototype.DB=e,v.prototype.DM=(1<<e)-1,v.prototype.DV=1<<e;v.prototype.FV=Math.pow(2,52),v.prototype.F1=52-e,v.prototype.F2=2*e-52;var t,n,r="0123456789abcdefghijklmnopqrstuvwxyz",c=[];for(t="0".charCodeAt(0),n=0;n<=9;++n)c[t++]=n;for(t="a".charCodeAt(0),n=10;n<36;++n)c[t++]=n;for(t="A".charCodeAt(0),n=10;n<36;++n)c[t++]=n;function l(e){return r.charAt(e)}function o(e){var t=y();return t.fromInt(e),t}function w(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function i(e){this.m=e}function a(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return i.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},i.prototype.revert=function(e){return e},i.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},i.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},i.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},a.prototype.convert=function(e){var t=y();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(v.ZERO)&&this.m.subTo(t,t),t},a.prototype.revert=function(e){var t=y();return e.copyTo(t),this.reduce(t),t},a.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},a.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},a.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},v.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},v.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,0<e?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},v.prototype.fromString=function(e,t){var n;if(16===t)n=4;else if(8===t)n=3;else if(256===t)n=8;else if(2===t)n=1;else if(32===t)n=5;else{if(4!==t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r,o,i=e.length,a=!1,s=0;0<=--i;){var l=8===n?255&e[i]:(r=i,void 0,null===(o=c[e.charCodeAt(r)])?-1:o);l<0?"-"===e.charAt(i)&&(a=!0):(a=!1,0===s?this[this.t++]=l:s+n>this.DB?(this[this.t-1]|=(l&(1<<this.DB-s)-1)<<s,this[this.t++]=l>>this.DB-s):this[this.t-1]|=l<<s,(s+=n)>=this.DB&&(s-=this.DB))}8===n&&0!=(128&e[0])&&(this.s=-1,0<s&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),a&&v.ZERO.subTo(this,this)},v.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]===e;)--this.t},v.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},v.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},v.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;0<=n;--n)t[n+a+1]=this[n]>>o|s,s=(this[n]&i)<<r;for(n=a-1;0<=n;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},v.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&i)<<o,t[a-n]=this[a]>>r;0<r&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},v.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:0<r&&(t[n++]=r),t.t=n,t.clamp()},v.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),o=n.t;for(t.t=o+r.t;0<=--o;)t[o]=0;for(o=0;o<r.t;++o)t[o+n.t]=n.am(0,r[o],t,o,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&v.ZERO.subTo(t,t)},v.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},v.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var o=this.abs();if(o.t<r.t)return null!==t&&t.fromInt(0),void(null!==n&&this.copyTo(n));null===n&&(n=y());var i=y(),a=this.s,s=e.s,l=this.DB-w(r[r.t-1]);0<l?(r.lShiftTo(l,i),o.lShiftTo(l,n)):(r.copyTo(i),o.copyTo(n));var c=i.t,u=i[c-1];if(0!==u){var h=u*(1<<this.F1)+(1<c?i[c-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,f=1<<this.F2,m=n.t,g=m-c,b=null===t?y():t;for(i.dlShiftTo(g,b),0<=n.compareTo(b)&&(n[n.t++]=1,n.subTo(b,n)),v.ONE.dlShiftTo(c,b),b.subTo(i,i);i.t<c;)i[i.t++]=0;for(;0<=--g;){var _=n[--m]===u?this.DM:Math.floor(n[m]*p+(n[m-1]+f)*d);if((n[m]+=i.am(0,_,n,g,0,c))<_)for(i.dlShiftTo(g,b),n.subTo(b,n);n[m]<--_;)n.subTo(b,n)}null!==t&&(n.drShiftTo(c,t),a!==s&&v.ZERO.subTo(t,t)),n.t=c,n.clamp(),0<l&&n.rShiftTo(l,n),a<0&&v.ZERO.subTo(n,n)}}},v.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},v.prototype.isEven=function(){return 0===(0<this.t?1&this[0]:this.s)},v.prototype.exp=function(e,t){if(4294967295<e||e<1)return v.ONE;var n=y(),r=y(),o=t.convert(this),i=w(e)-1;for(o.copyTo(n);0<=--i;)if(t.sqrTo(n,r),0<(e&1<<i))t.mulTo(r,o,n);else{var a=n;n=r,r=a}return t.revert(n)},v.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16===e)t=4;else if(8===e)t=3;else if(2===e)t=1;else if(32===e)t=5;else{if(4!==e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,o=!1,i="",a=this.t,s=this.DB-a*this.DB%t;if(0<a--)for(s<this.DB&&0<(n=this[a]>>s)&&(o=!0,i=l(n));0<=a;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),0<n&&(o=!0),o&&(i+=l(n));return o?i:"0"},v.prototype.negate=function(){var e=y();return v.ZERO.subTo(this,e),e},v.prototype.abs=function(){return this.s<0?this.negate():this},v.prototype.compareTo=function(e){var t=this.s-e.s;if(0!==t)return t;var n=this.t;if(0!==(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},v.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+w(this[this.t-1]^this.s&this.DM)},v.prototype.mod=function(e){var t=y();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(v.ZERO)&&e.subTo(t,t),t},v.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new i(t):new a(t),this.exp(e,n)},v.ZERO=o(0),v.ONE=o(1),{BigInteger:v}}),define("utils/rsa/rng",[],function(){function e(){this.set_rng_pool()}function t(){this.i=0,this.j=0,this.S=[]}function n(){return new t}return e.prototype.rng_state=null,e.prototype.rng_pool=null,e.prototype.rng_pptr=null,e.prototype.rng_psize=256,e.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=this.nextByte()},e.prototype.nextByte=function(){if(null===this.rng_state||void 0===this.rng_state){for(this.rng_state=n();this.rng_pptr<this.rng_psize;){var e=Math.floor(65536*Math.random());this.rng_pool[this.rng_pptr++]=255&e}for(this.rng_state.init(this.rng_pool),this.rng_pptr=0;this.rng_pptr<this.rng_pool.length;++this.rng_pptr)this.rng_pool[this.rng_pptr]=0;this.rng_pptr=0}return this.rng_state.next()},e.prototype.set_rng_pool=function(){if(null===this.rng_pool||void 0===this.rng_pool){var e;if(this.rng_pool=[],this.rng_pptr=0,window.crypto&&window.crypto.getRandomValues){var t=new Uint32Array(256);for(window.crypto.getRandomValues(t),e=0;e<t.length;++e)this.rng_pool[this.rng_pptr++]=255&t[e]}function n(e){if(this.count=this.count||0,256<=this.count||256<=this.rng_pptr)window.removeEventListener?window.removeEventListener("mousemove",n,!1):window.detachEvent&&window.detachEvent("onmousemove",n);else try{var t=e.x+e.y;this.rng_pool[this.rng_pptr++]=255&t,this.count+=1}catch(e){}}window.addEventListener?window.addEventListener("mousemove",n,!1):window.attachEvent&&window.attachEvent("onmousemove",n)}},e.prototype.prng_newstate=n,t.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(t=n=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},{SecureRandom:e}}),define("utils/rsa/rsa",["utils/rsa/jsbn","utils/rsa/rng"],function(s,l){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&0<e.length&&0<t.length&&(this.n=new s.BigInteger(e,16),this.e=parseInt(t,16))},e.prototype.encrypt=function(e){if(!e)return null;var t=function(e,t){if(t<e.length+11)return null;for(var n=[],r=e.length-1;0<=r&&0<t;){var o=e.charCodeAt(r--);o<128?n[--t]=o:127<o&&o<2048?(n[--t]=63&o|128,n[--t]=o>>6|192):(n[--t]=63&o|128,n[--t]=o>>6&63|128,n[--t]=o>>12|224)}n[--t]=0;for(var i=new l.SecureRandom,a=[];2<t;){for(a[0]=0;0===a[0];)i.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new s.BigInteger(n)}(e,this.n.bitLength()+7>>3);if(!t)return null;var n=this.doPublic(t);if(!n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},{RSAKey:e}}),define("utils/hashFinder",["require","lodash","utils/cookies","data/publisherConfig","utils/settings","utils/globalObject","data/pageInfo","utils/logger","utils/rsa/rsa"],function(e){var r,t=e("lodash"),o=e("utils/cookies"),n=e("data/publisherConfig"),i=e("utils/settings"),a=e("utils/globalObject"),s=e("data/pageInfo"),l=e("utils/logger").child({name:"SHR_E",color:"rebeccapurple"}),c=new(e("utils/rsa/rsa").RSAKey);c.setPublic("951c893464c05bb87b06616bef2a168603070b8c3c45b33d02b8145624545ad6fc294fd22cc78193dcedcfb20def7e35ff8110c531fa9c2630e658f3b0b7fd03a801a0ce7c37cb708c648fe6314c2248b65e2a72817f64afcb995c8f26d18e53197b29b88f00787e35365316827f0a2cb0661606c9c1a5b3f0856c43ef815210df2ac34daab7a887cf1ccff3f06aeca6580c90623ad0a8952deb38f06b9afdbce3482165080de35309cbab317ad6bba93430dfa7f9d63efb8825e551e19e55eae7f0b901ae9ce3cf38db496b2eedee450d62baefcc0160e7e12f0c2c0a4bb10c6241456cb23611c9c6df3394454579fba00ce1adc5f3c7c72852356cca356133","10001"),r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var u=t.filter(["input:not([type])","input[type=text]","input[type=email]","textarea"],function(e){try{return document.body.querySelectorAll(e),!0}catch(e){return!1}});function h(){n.getXDeviceConfig().then(function(e){if(e.enabled){var t=o.get("_shr_ue");try{var n=a.atob(t).toLowerCase().replace(" ","");r.test(n)&&p(n)}catch(e){}setInterval(function(){f(a.document.body).concat(function(e){var t=[];if(e)for(var n=e.querySelectorAll("iframe"),r=0;r<n.length;r++){var o=n[r];if(-1===m.indexOf(o))try{t=t.concat(f(o.contentWindow.document.body))}catch(e){m.push(o)}}return t}(a.document.body)).forEach(function(e){e.emlListener||(e.emlListener=!0,e.addEventListener?e.addEventListener("blur",d):e.attachEvent&&e.attachEvent("focusout",d))})},100)}else l.log("Disabled!")})}function p(e){var t=c.encrypt(e),n=s.getPageInfo();o.set("SHR_E_ENC",t,{expires:31536e4,domain:n.domain,path:"/"}),o.get("SHR_E_ENC")||o.set("SHR_E_ENC",t,{expires:31536e4,path:"/"}),i.e_cookie_enc=t}function d(e){var t=e.target,n=((window.node=t).value||"").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);n&&n.forEach(function(e){e=e.toLowerCase().replace(" ",""),r.test(e)&&p(e)})}function f(e){var t=[];if(e)for(var n=e.querySelectorAll(u.join(", ")),r=0;r<n.length;r++)t[r]=n[r];return t}var m=[];return{run:function(){h()}}}),define("data/providers/userInfo",["require","utils/shrFetch","utils/logger"],function(e){var n=e("utils/shrFetch"),r=e("utils/logger").child({name:"UserInfoProvider"});return function(e,t){return n(t.endpoints.user_info,{credentials:"include"}).then(function(e){return e.json()||{}}).catch(function(e){return r.error("Error getting user_info",e),{}})}}),define("shrMain",["require","es6-object-assign","whatwg-fetch","promise-polyfill","url-polyfill","utils/profiler","utils/CanvasResolver","data/publisherConfig","apps/index","utils/helperFunctions","utils/globalObject","utils/trackVisitor","data/DataStore","utils/dom","modal/ModalController","data/SettingsScraper","data/pageInfo","utils/settings","utils/localStore","utils/TrackURL","analytics/Analytics","analytics/Google","analytics/ErrorLogger","utils/utils","utils/hashFinder","utils/logger","data/providers/userInfo"],function(e){e("es6-object-assign").polyfill(),e("whatwg-fetch"),e("promise-polyfill"),e("url-polyfill");var o=e("utils/profiler"),t=e("utils/CanvasResolver"),n=e("data/publisherConfig"),i=e("apps/index"),a=e("utils/helperFunctions"),r=e("utils/globalObject"),s=e("utils/trackVisitor"),l=e("data/DataStore"),c=e("utils/dom"),u=e("modal/ModalController"),h=e("data/SettingsScraper"),p=e("data/pageInfo"),d=e("utils/settings"),f=e("utils/localStore"),m=e("utils/TrackURL"),g=e("analytics/Analytics"),b=e("analytics/Google"),_=e("analytics/ErrorLogger"),v=e("utils/utils"),y=a.deepMerge(r._SHR_SETTINGS||{},r._SHR_SETTINGS_CUSTOM||{}),w=f.getObject("SHR_V2_OVERRIDES")||{},x=r.Shareaholic,S=null!==x,k=e("utils/hashFinder"),E=new g(b,{allowAnalytics:S}),C=e("utils/logger").child({name:"main",color:"darkblue"});l.register("userInfo",e("data/providers/userInfo"));var O,A,R,T=!1,j={},I=window.frameElement,M=new u(c.uiDOM("body"),I);if(x=x||{},_.bindRequireJSError(),y.endpoints&&(d.endpoints.share_count=y.endpoints.share_counts_url,d.endpoints.local_recs_url=y.endpoints.local_recs_url||d.endpoints.local_recs_url,d.endpoints.local_plugin_info_url=d.endpoints.local_recs_url.split("admin-ajax.php?")[0]+"admin-ajax.php?action=shareaholic_sdk_info"),d.url_components=y.url_components||{},d.endpoints.share_count=d.endpoints.share_count||h.getShareCountEndpoint(c.uiDOM("html")),d.apiKey=d.apikey||d.apiKey||x.SITE_ID||d.siteid,d.user=y.user,void 0===d.apiKey||null===d.apiKey||d.apiKey.trim&&""===d.apiKey.trim()){if(!d.apiKey){var P=c.uiDOM('meta[name="shareaholic:site_id"]');P&&(d.apiKey=P.getAttribute("content").trim())}d.apiKey||(y.site_id?d.apiKey=y.site_id:d.apiKey="00000"),x.init(d.apiKey)}if(O=new t,R=(A=new l(d,p.getPageInfo(r))).validateConfig(),n.setBookmarkletOverrides(w),!R.valid)return C.error("DataStore config is invalid!"),C.error(R),void _.error("critical","DataStore",R);function D(e){if(T)C.log("Starting the application can only happen once.");else{if(T=!0,n.setSiteId(d.apiKey),n.setConfig(e),"dev"===v.getEnvironment()&&A.get({type:"userInfo"}).then(function(e){r.Shareaholic.user_info=e}),n.getMergedConfig().then(function(e){r.Shareaholic.page_config=function(){return e},e.analytics_ga_enabled&&e.analytics_ga_id&&b.createTracker("social","pub_social",{name:"pub_social",id:e.analytics_ga_id})}),null===c.uiDOM('meta[name="shareaholic:site_id"]')&&e.api_key){var t=r.document.createElement("meta");t.setAttribute("name","shareaholic:site_id"),t.setAttribute("content",e.api_key),c.appendToUiDom(t,"head")}v.addAccessibilityListener(r.document,!0),n.getAppConfigs().then(function(e){e=a.transformObject(e,function(e,t,n){return t.enabled?e[n]=t:C.log(n+" is disabled"),e}),o.logTime("Starting SDK"),C.log("SDK starting apps: "+a.keys(e).join(","));var r={};a.eachObject(e,function(e,t){var n=i.queryForConfig(t,e,p);n||!i.isScriptApp(t)?n?(C.log("rendering "+t),o.logTime("rendering "+t),O.onCanvas(n,function(e){o.logTime("Got canvas for "+t),i.startApp(t,e,A,M,E)})):C.log("no query for "+t):r[t]=e}),a.eachObject(r,function(e,t){i.loadScript(t,e,p)})}),k.run()}}j.init=function(e){var t=e[0],n=e[1];C.log("Starting SDK with key "+t),n&&C.log("Already have publisher config",n),d.apiKey=t,d.apiKey&&!n?r.Shareaholic.getPublisherConfig(v.getEnvironment(),t,function(e,t){D(t||{})}):D(n)},c.ready(function(){d.debug&&(E.allowAnalytics=!0),s.track(d.apiKey),E.pageView(A);var e=setInterval(function(){r.publisherConfigLoaded&&(clearInterval(e),i.addPublicApiHandler(r,d.namespace,p.getPageInfo(r),A,M,E,j))},10);m.trackURL(function(){window.Raven&&(window.Raven.captureBreadcrumb("URL changed to ".concat(r.location.href)),window.Raven.setTagsContext({url:r.location.href})),s.track(d.apiKey),E.pageView(A);var e=window.parent.document.getElementById("shr-partners");e&&e.parentNode.removeChild(e),n.getAppConfigs().then(function(e){e=a.transformObject(e,function(e,t,n){return t.enabled&&(e[n]=t),e}),a.eachObject(e,function(e,t){!i.queryForConfig(t,e,p)&&i.isScriptApp(t)&&"partners"===t&&i.loadScript(t,e,p)})})})})}),requirejs.config({baseUrl:window.settings.assetbase,waitSeconds:0,enforceDefine:!0,shim:{angular:{exports:"angular"}},attributes:{angular:{crossorigin:"anonymous"},lodash:{crossorigin:"anonymous"},most:{crossorigin:"anonymous"},IPv6:{crossorigin:"anonymous"}},onNodeCreated:function(t,n,r,e){n.attributes&&n.attributes[r]&&Object.keys(n.attributes[r]).forEach(function(e){t.setAttribute(e,n.attributes[r][e])})},paths:{angular:"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.5/angular.min",lodash:"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.0/lodash.min",most:"https://cdnjs.cloudflare.com/ajax/libs/most/0.15.0/most.min",deps:["shrMain"]}}),define("loadCDNAssets",function(){}),define("shrMain",function(){}),require(["shrMain"]);