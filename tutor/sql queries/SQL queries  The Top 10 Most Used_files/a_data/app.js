define("apps/affiliatelinks/app",["require","utils/logger","utils/globalObject","utils/dom"],function(i){var o=i("utils/logger"),t=i("utils/globalObject"),a=i("utils/dom"),s="Affiliate Links";return o=o.child({name:s,color:"#00FF00"}),{load:function(e,r){return new Promise(function(i,n){try{(function(i,n){var e=n.getPageInfo(),r=i.viglink.cdnJs,l=i.apiKey;l=l||"ca08ce11cc98198581a18ece230ab4e2",i.approved&&i.enabled&&l&&e.isCurrentUrlHttpUrl?(t.vglnk={key:i.viglink.apiKey,cuid:l,sub_id:l},o.log("Running...",s,i,t.vglnk),a.loadScript(r,{id:"shr-aff",async:!0,preload:!1,context:"body"})):o.log("Do not load Affiliate Links App...",i)})(function(i){if(!i.viglink)throw new Error("Missing viglink object");if(!i.viglink.cdnJs)throw new Error("Missing viglink properties");if(!i.viglink.apiKey)throw new Error("Missing viglink api key");return i}(e),r),i()}catch(i){o.error("Could not render affiliate links: ",i),i.data=e,n(i)}})}}});